{"id":"qg8N","dependencies":[{"name":"/Users/etienne/skyenv/package.json","includedInParent":true,"mtime":1596478551490},{"name":"/Users/etienne/skyenv/node_modules/mongodb/package.json","includedInParent":true,"mtime":1596467161400},{"name":"../core/sdam/server_description","loc":{"line":2,"column":32},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/cmap/stream_description.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/core/sdam/server_description.js"}],"generated":{"js":"\"use strict\";const s=require(\"../core/sdam/server_description\").parseServerType,e=[\"minWireVersion\",\"maxWireVersion\",\"maxBsonObjectSize\",\"maxMessageSizeBytes\",\"maxWriteBatchSize\",\"__nodejs_mock_server__\"];class r{constructor(e,r){this.address=e,this.type=s(null),this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48e6,this.maxWriteBatchSize=1e5,this.compressors=r&&r.compression&&Array.isArray(r.compression.compressors)?r.compression.compressors:[]}receiveResponse(r){this.type=s(r),e.forEach(s=>{void 0!==r[s]&&(this[s]=r[s])}),r.compression&&(this.compressor=this.compressors.filter(s=>-1!==r.compression.indexOf(s))[0])}}module.exports={StreamDescription:r};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"parseServerType","original":{"line":2,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"require","original":{"line":2,"column":24},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":2,"column":32},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"parseServerType","original":{"line":2,"column":67},"generated":{"line":1,"column":64}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"RESPONSE_FIELDS","original":{"line":4,"column":6},"generated":{"line":1,"column":80}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":4,"column":24},"generated":{"line":1,"column":82}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":5,"column":2},"generated":{"line":1,"column":83}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":6,"column":2},"generated":{"line":1,"column":100}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":7,"column":2},"generated":{"line":1,"column":117}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":8,"column":2},"generated":{"line":1,"column":137}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":9,"column":2},"generated":{"line":1,"column":159}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":10,"column":2},"generated":{"line":1,"column":179}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":13,"column":0},"generated":{"line":1,"column":205}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"StreamDescription","original":{"line":13,"column":6},"generated":{"line":1,"column":211}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"constructor","original":{"line":14,"column":2},"generated":{"line":1,"column":213}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"address","original":{"line":14,"column":14},"generated":{"line":1,"column":225}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"options","original":{"line":14,"column":23},"generated":{"line":1,"column":227}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"address","original":{"line":15,"column":9},"generated":{"line":1,"column":230}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"address","original":{"line":15,"column":9},"generated":{"line":1,"column":235}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"address","original":{"line":15,"column":19},"generated":{"line":1,"column":243}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"type","original":{"line":16,"column":9},"generated":{"line":1,"column":245}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"type","original":{"line":16,"column":9},"generated":{"line":1,"column":250}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"parseServerType","original":{"line":16,"column":16},"generated":{"line":1,"column":255}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":16,"column":32},"generated":{"line":1,"column":257}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"minWireVersion","original":{"line":17,"column":9},"generated":{"line":1,"column":263}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"minWireVersion","original":{"line":17,"column":9},"generated":{"line":1,"column":268}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"undefined","original":{"line":17,"column":26},"generated":{"line":1,"column":288}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"maxWireVersion","original":{"line":18,"column":9},"generated":{"line":1,"column":290}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"maxWireVersion","original":{"line":18,"column":9},"generated":{"line":1,"column":295}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"undefined","original":{"line":18,"column":26},"generated":{"line":1,"column":315}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"maxBsonObjectSize","original":{"line":19,"column":9},"generated":{"line":1,"column":317}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"maxBsonObjectSize","original":{"line":19,"column":9},"generated":{"line":1,"column":322}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":19,"column":29},"generated":{"line":1,"column":340}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"maxMessageSizeBytes","original":{"line":20,"column":9},"generated":{"line":1,"column":349}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"maxMessageSizeBytes","original":{"line":20,"column":9},"generated":{"line":1,"column":354}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":20,"column":31},"generated":{"line":1,"column":374}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"maxWriteBatchSize","original":{"line":21,"column":9},"generated":{"line":1,"column":379}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"maxWriteBatchSize","original":{"line":21,"column":9},"generated":{"line":1,"column":384}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":21,"column":29},"generated":{"line":1,"column":402}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compressors","original":{"line":22,"column":9},"generated":{"line":1,"column":406}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compressors","original":{"line":22,"column":9},"generated":{"line":1,"column":411}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"options","original":{"line":23,"column":6},"generated":{"line":1,"column":423}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"options","original":{"line":23,"column":17},"generated":{"line":1,"column":426}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compression","original":{"line":23,"column":25},"generated":{"line":1,"column":428}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"Array","original":{"line":23,"column":40},"generated":{"line":1,"column":441}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"isArray","original":{"line":23,"column":46},"generated":{"line":1,"column":447}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"options","original":{"line":23,"column":54},"generated":{"line":1,"column":455}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compression","original":{"line":23,"column":62},"generated":{"line":1,"column":457}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compressors","original":{"line":23,"column":74},"generated":{"line":1,"column":469}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"options","original":{"line":24,"column":10},"generated":{"line":1,"column":482}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compression","original":{"line":24,"column":18},"generated":{"line":1,"column":484}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compressors","original":{"line":24,"column":30},"generated":{"line":1,"column":496}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":25,"column":10},"generated":{"line":1,"column":508}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"receiveResponse","original":{"line":28,"column":2},"generated":{"line":1,"column":511}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"response","original":{"line":28,"column":18},"generated":{"line":1,"column":527}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"type","original":{"line":29,"column":9},"generated":{"line":1,"column":530}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"type","original":{"line":29,"column":9},"generated":{"line":1,"column":535}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"parseServerType","original":{"line":29,"column":16},"generated":{"line":1,"column":540}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"response","original":{"line":29,"column":32},"generated":{"line":1,"column":542}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"RESPONSE_FIELDS","original":{"line":31,"column":4},"generated":{"line":1,"column":545}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"forEach","original":{"line":31,"column":20},"generated":{"line":1,"column":547}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"field","original":{"line":31,"column":28},"generated":{"line":1,"column":555}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":32,"column":37},"generated":{"line":1,"column":564}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"response","original":{"line":32,"column":17},"generated":{"line":1,"column":568}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"field","original":{"line":32,"column":26},"generated":{"line":1,"column":570}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"field","original":{"line":33,"column":13},"generated":{"line":1,"column":575}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"field","original":{"line":33,"column":13},"generated":{"line":1,"column":580}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"response","original":{"line":33,"column":22},"generated":{"line":1,"column":583}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"field","original":{"line":33,"column":31},"generated":{"line":1,"column":585}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"response","original":{"line":37,"column":8},"generated":{"line":1,"column":591}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compression","original":{"line":37,"column":17},"generated":{"line":1,"column":593}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compressor","original":{"line":38,"column":11},"generated":{"line":1,"column":607}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compressor","original":{"line":38,"column":11},"generated":{"line":1,"column":612}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":38,"column":24},"generated":{"line":1,"column":623}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compressors","original":{"line":38,"column":29},"generated":{"line":1,"column":628}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"filter","original":{"line":38,"column":41},"generated":{"line":1,"column":640}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"c","original":{"line":38,"column":48},"generated":{"line":1,"column":647}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":38,"column":90},"generated":{"line":1,"column":651}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"response","original":{"line":38,"column":53},"generated":{"line":1,"column":655}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"compression","original":{"line":38,"column":62},"generated":{"line":1,"column":657}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"indexOf","original":{"line":38,"column":74},"generated":{"line":1,"column":669}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"c","original":{"line":38,"column":82},"generated":{"line":1,"column":677}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":38,"column":93},"generated":{"line":1,"column":681}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"module","original":{"line":43,"column":0},"generated":{"line":1,"column":686}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"exports","original":{"line":43,"column":7},"generated":{"line":1,"column":693}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","original":{"line":43,"column":17},"generated":{"line":1,"column":701}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"StreamDescription","original":{"line":44,"column":2},"generated":{"line":1,"column":702}},{"source":"../node_modules/mongodb/lib/cmap/stream_description.js","name":"StreamDescription","original":{"line":44,"column":2},"generated":{"line":1,"column":720}}],"sources":{"../node_modules/mongodb/lib/cmap/stream_description.js":"'use strict';\nconst parseServerType = require('../core/sdam/server_description').parseServerType;\n\nconst RESPONSE_FIELDS = [\n  'minWireVersion',\n  'maxWireVersion',\n  'maxBsonObjectSize',\n  'maxMessageSizeBytes',\n  'maxWriteBatchSize',\n  '__nodejs_mock_server__'\n];\n\nclass StreamDescription {\n  constructor(address, options) {\n    this.address = address;\n    this.type = parseServerType(null);\n    this.minWireVersion = undefined;\n    this.maxWireVersion = undefined;\n    this.maxBsonObjectSize = 16777216;\n    this.maxMessageSizeBytes = 48000000;\n    this.maxWriteBatchSize = 100000;\n    this.compressors =\n      options && options.compression && Array.isArray(options.compression.compressors)\n        ? options.compression.compressors\n        : [];\n  }\n\n  receiveResponse(response) {\n    this.type = parseServerType(response);\n\n    RESPONSE_FIELDS.forEach(field => {\n      if (typeof response[field] !== 'undefined') {\n        this[field] = response[field];\n      }\n    });\n\n    if (response.compression) {\n      this.compressor = this.compressors.filter(c => response.compression.indexOf(c) !== -1)[0];\n    }\n  }\n}\n\nmodule.exports = {\n  StreamDescription\n};\n"},"lineCount":null}},"error":null,"hash":"6bb9fefe190d3195dc294bc1faf8058c","cacheData":{"env":{}}}