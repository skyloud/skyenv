{"id":"DULr","dependencies":[{"name":"/Users/etienne/skyenv/package.json","includedInParent":true,"mtime":1596478551490},{"name":"/Users/etienne/skyenv/node_modules/mongodb/package.json","includedInParent":true,"mtime":1596467161400},{"name":"events","loc":{"line":3,"column":22},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/etienne/skyenv/node_modules/events/events.js"},{"name":"./download","loc":{"line":4,"column":37},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/gridfs-stream/download.js"},{"name":"./upload","loc":{"line":5,"column":38},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/gridfs-stream/upload.js"},{"name":"../utils","loc":{"line":9,"column":37},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/utils.js"},{"name":"util","loc":{"line":8,"column":19},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/gridfs-stream/index.js","resolved":"/Users/etienne/skyenv/node_modules/util/util.js"}],"generated":{"js":"\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}var t=require(\"events\").EventEmitter,o=require(\"./download\"),i=require(\"./upload\"),n=require(\"../utils\").shallowClone,s=require(\"../utils\").toError,r=require(\"util\"),l=require(\"../utils\").executeLegacyOperation,u={bucketName:\"fs\",chunkSizeBytes:261120};function c(o,i){if(t.apply(this),this.setMaxListeners(0),i&&\"object\"===e(i)){i=n(i);for(var s=Object.keys(u),r=0;r<s.length;++r)i[s[r]]||(i[s[r]]=u[s[r]])}else i=u;this.s={db:o,options:i,_chunksCollection:o.collection(i.bucketName+\".chunks\"),_filesCollection:o.collection(i.bucketName+\".files\"),checkedIndexes:!1,calledOpenUploadStream:!1,promiseLibrary:o.s.promiseLibrary||Promise}}function p(e,t,o){e.s._filesCollection.deleteOne({_id:t},function(i,n){if(i)return o(i);e.s._chunksCollection.deleteMany({files_id:t},function(e){return e?o(e):n.result.n?void o():o(new Error(\"FileNotFound: no file with id \"+t+\" found\"))})})}function a(e,t,o,i){var n={_id:t},r={$set:{filename:o}};e.s._filesCollection.updateOne(n,r,function(e,o){return e?i(e):o.result.n?void i():i(s(\"File with id \"+t+\" not found\"))})}function f(e,t){e.s._filesCollection.drop(function(o){if(o)return t(o);e.s._chunksCollection.drop(function(e){return e?t(e):t()})})}module.exports=c,r.inherits(c,t),c.prototype.openUploadStream=function(e,t){return(t=t?n(t):{}).chunkSizeBytes||(t.chunkSizeBytes=this.s.options.chunkSizeBytes),new i(this,e,t)},c.prototype.openUploadStreamWithId=function(e,t,o){return(o=o?n(o):{}).chunkSizeBytes||(o.chunkSizeBytes=this.s.options.chunkSizeBytes),o.id=e,new i(this,t,o)},c.prototype.openDownloadStream=function(e,t){var i={_id:e};return t={start:t&&t.start,end:t&&t.end},new o(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,i,t)},c.prototype.delete=function(e,t){return l(this.s.db.s.topology,p,[this,e,t],{skipSessions:!0})},c.prototype.find=function(e,t){e=e||{},t=t||{};var o=this.s._filesCollection.find(e);return null!=t.batchSize&&o.batchSize(t.batchSize),null!=t.limit&&o.limit(t.limit),null!=t.maxTimeMS&&o.maxTimeMS(t.maxTimeMS),null!=t.noCursorTimeout&&o.addCursorFlag(\"noCursorTimeout\",t.noCursorTimeout),null!=t.skip&&o.skip(t.skip),null!=t.sort&&o.sort(t.sort),o},c.prototype.openDownloadStreamByName=function(e,t){var i={uploadDate:-1},n=null;t&&null!=t.revision&&(t.revision>=0?(i={uploadDate:1},n=t.revision):n=-t.revision-1);var s={filename:e};return t={sort:i,skip:n,start:t&&t.start,end:t&&t.end},new o(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,s,t)},c.prototype.rename=function(e,t,o){return l(this.s.db.s.topology,a,[this,e,t,o],{skipSessions:!0})},c.prototype.drop=function(e){return l(this.s.db.s.topology,f,[this,e],{skipSessions:!0})},c.prototype.getLogger=function(){return this.s.db.s.logger};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":22}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":24}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":27}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":34}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":36}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":55}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":63}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":80}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":87}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":96}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":105}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":108}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":122}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":125}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":134}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":137}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":144}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":147}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":166}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":174}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":176}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":190}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":198}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":202}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":209}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":219}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":235}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":354,"column":0},"generated":{"line":1,"column":239}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":242}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Emitter","original":{"line":3,"column":4},"generated":{"line":1,"column":246}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":3,"column":14},"generated":{"line":1,"column":248}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":3,"column":22},"generated":{"line":1,"column":256}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"EventEmitter","original":{"line":3,"column":32},"generated":{"line":1,"column":266}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketReadStream","original":{"line":4,"column":4},"generated":{"line":1,"column":279}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":4,"column":29},"generated":{"line":1,"column":281}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":4,"column":37},"generated":{"line":1,"column":289}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketWriteStream","original":{"line":5,"column":4},"generated":{"line":1,"column":303}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":5,"column":30},"generated":{"line":1,"column":305}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":5,"column":38},"generated":{"line":1,"column":313}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":6,"column":4},"generated":{"line":1,"column":325}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":6,"column":19},"generated":{"line":1,"column":327}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":6,"column":27},"generated":{"line":1,"column":335}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":6,"column":39},"generated":{"line":1,"column":347}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"toError","original":{"line":7,"column":4},"generated":{"line":1,"column":360}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":7,"column":14},"generated":{"line":1,"column":362}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":7,"column":22},"generated":{"line":1,"column":370}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"toError","original":{"line":7,"column":34},"generated":{"line":1,"column":382}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"util","original":{"line":8,"column":4},"generated":{"line":1,"column":390}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":8,"column":11},"generated":{"line":1,"column":392}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":8,"column":19},"generated":{"line":1,"column":400}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeLegacyOperation","original":{"line":9,"column":4},"generated":{"line":1,"column":408}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"require","original":{"line":9,"column":29},"generated":{"line":1,"column":410}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":9,"column":37},"generated":{"line":1,"column":418}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeLegacyOperation","original":{"line":9,"column":49},"generated":{"line":1,"column":430}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"DEFAULT_GRIDFS_BUCKET_OPTIONS","original":{"line":11,"column":4},"generated":{"line":1,"column":453}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":11,"column":36},"generated":{"line":1,"column":455}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"bucketName","original":{"line":12,"column":2},"generated":{"line":1,"column":456}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":12,"column":14},"generated":{"line":1,"column":467}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":13,"column":2},"generated":{"line":1,"column":472}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":13,"column":18},"generated":{"line":1,"column":487}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":495}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":31,"column":9},"generated":{"line":1,"column":504}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":31,"column":22},"generated":{"line":1,"column":506}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":31,"column":26},"generated":{"line":1,"column":508}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":35,"column":6},"generated":{"line":1,"column":511}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Emitter","original":{"line":32,"column":2},"generated":{"line":1,"column":514}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"apply","original":{"line":32,"column":10},"generated":{"line":1,"column":516}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":32,"column":16},"generated":{"line":1,"column":522}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"setMaxListeners","original":{"line":33,"column":7},"generated":{"line":1,"column":528}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"setMaxListeners","original":{"line":33,"column":7},"generated":{"line":1,"column":533}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":33,"column":23},"generated":{"line":1,"column":549}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":35,"column":6},"generated":{"line":1,"column":552}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":35,"column":36},"generated":{"line":1,"column":555}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":35,"column":17},"generated":{"line":1,"column":566}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":35,"column":24},"generated":{"line":1,"column":568}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":35,"column":46},"generated":{"line":1,"column":571}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":36,"column":4},"generated":{"line":1,"column":572}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":36,"column":14},"generated":{"line":1,"column":574}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":36,"column":27},"generated":{"line":1,"column":576}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":38,"column":9},"generated":{"line":1,"column":579}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":37,"column":8},"generated":{"line":1,"column":583}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":37,"column":8},"generated":{"line":1,"column":587}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Object","original":{"line":37,"column":15},"generated":{"line":1,"column":589}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":37,"column":22},"generated":{"line":1,"column":596}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"DEFAULT_GRIDFS_BUCKET_OPTIONS","original":{"line":37,"column":27},"generated":{"line":1,"column":601}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":38,"column":13},"generated":{"line":1,"column":604}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":38,"column":17},"generated":{"line":1,"column":606}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":38,"column":20},"generated":{"line":1,"column":608}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":38,"column":24},"generated":{"line":1,"column":610}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"length","original":{"line":38,"column":29},"generated":{"line":1,"column":612}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":38,"column":39},"generated":{"line":1,"column":621}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":39,"column":11},"generated":{"line":1,"column":623}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":39,"column":19},"generated":{"line":1,"column":625}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":39,"column":24},"generated":{"line":1,"column":627}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":40,"column":8},"generated":{"line":1,"column":633}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":40,"column":16},"generated":{"line":1,"column":635}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":40,"column":21},"generated":{"line":1,"column":637}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"DEFAULT_GRIDFS_BUCKET_OPTIONS","original":{"line":40,"column":27},"generated":{"line":1,"column":641}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"keys","original":{"line":40,"column":57},"generated":{"line":1,"column":643}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"i","original":{"line":40,"column":62},"generated":{"line":1,"column":645}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":44,"column":4},"generated":{"line":1,"column":655}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"DEFAULT_GRIDFS_BUCKET_OPTIONS","original":{"line":44,"column":14},"generated":{"line":1,"column":657}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":47,"column":7},"generated":{"line":1,"column":659}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":47,"column":7},"generated":{"line":1,"column":664}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":47,"column":11},"generated":{"line":1,"column":666}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":48,"column":4},"generated":{"line":1,"column":667}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":48,"column":8},"generated":{"line":1,"column":670}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":49,"column":4},"generated":{"line":1,"column":672}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":49,"column":13},"generated":{"line":1,"column":680}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":50,"column":4},"generated":{"line":1,"column":682}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":50,"column":23},"generated":{"line":1,"column":700}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"collection","original":{"line":50,"column":26},"generated":{"line":1,"column":702}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":50,"column":37},"generated":{"line":1,"column":713}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"bucketName","original":{"line":50,"column":45},"generated":{"line":1,"column":715}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":50,"column":58},"generated":{"line":1,"column":726}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":51,"column":4},"generated":{"line":1,"column":737}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":51,"column":22},"generated":{"line":1,"column":754}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"collection","original":{"line":51,"column":25},"generated":{"line":1,"column":756}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":51,"column":36},"generated":{"line":1,"column":767}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"bucketName","original":{"line":51,"column":44},"generated":{"line":1,"column":769}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":51,"column":57},"generated":{"line":1,"column":780}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"checkedIndexes","original":{"line":52,"column":4},"generated":{"line":1,"column":790}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":52,"column":20},"generated":{"line":1,"column":806}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"calledOpenUploadStream","original":{"line":53,"column":4},"generated":{"line":1,"column":808}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":53,"column":28},"generated":{"line":1,"column":832}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"promiseLibrary","original":{"line":54,"column":4},"generated":{"line":1,"column":834}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":54,"column":20},"generated":{"line":1,"column":849}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":54,"column":23},"generated":{"line":1,"column":851}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"promiseLibrary","original":{"line":54,"column":25},"generated":{"line":1,"column":853}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Promise","original":{"line":54,"column":43},"generated":{"line":1,"column":869}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":174,"column":0},"generated":{"line":1,"column":878}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_delete","original":{"line":174,"column":9},"generated":{"line":1,"column":887}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":174,"column":17},"generated":{"line":1,"column":889}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":174,"column":24},"generated":{"line":1,"column":891}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":174,"column":28},"generated":{"line":1,"column":893}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":175,"column":2},"generated":{"line":1,"column":896}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":175,"column":8},"generated":{"line":1,"column":898}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":175,"column":10},"generated":{"line":1,"column":900}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"deleteOne","original":{"line":175,"column":27},"generated":{"line":1,"column":917}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":175,"column":37},"generated":{"line":1,"column":927}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_id","original":{"line":175,"column":39},"generated":{"line":1,"column":928}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":175,"column":44},"generated":{"line":1,"column":932}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":175,"column":50},"generated":{"line":1,"column":935}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":175,"column":59},"generated":{"line":1,"column":944}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"res","original":{"line":175,"column":66},"generated":{"line":1,"column":946}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":176,"column":8},"generated":{"line":1,"column":949}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":176,"column":8},"generated":{"line":1,"column":952}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":177,"column":13},"generated":{"line":1,"column":954}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":177,"column":13},"generated":{"line":1,"column":961}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":177,"column":22},"generated":{"line":1,"column":963}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":180,"column":4},"generated":{"line":1,"column":966}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":180,"column":10},"generated":{"line":1,"column":968}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":180,"column":12},"generated":{"line":1,"column":970}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"deleteMany","original":{"line":180,"column":30},"generated":{"line":1,"column":988}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":180,"column":41},"generated":{"line":1,"column":999}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"files_id","original":{"line":180,"column":43},"generated":{"line":1,"column":1000}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":180,"column":53},"generated":{"line":1,"column":1009}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":180,"column":59},"generated":{"line":1,"column":1012}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":180,"column":68},"generated":{"line":1,"column":1021}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":181,"column":10},"generated":{"line":1,"column":1024}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":181,"column":10},"generated":{"line":1,"column":1031}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":182,"column":15},"generated":{"line":1,"column":1033}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":182,"column":24},"generated":{"line":1,"column":1035}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"res","original":{"line":186,"column":11},"generated":{"line":1,"column":1038}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"result","original":{"line":186,"column":15},"generated":{"line":1,"column":1040}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"n","original":{"line":186,"column":22},"generated":{"line":1,"column":1047}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":191,"column":6},"generated":{"line":1,"column":1054}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":188,"column":15},"generated":{"line":1,"column":1058}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":188,"column":24},"generated":{"line":1,"column":1060}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Error","original":{"line":188,"column":28},"generated":{"line":1,"column":1064}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":187,"column":21},"generated":{"line":1,"column":1070}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":187,"column":56},"generated":{"line":1,"column":1103}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":187,"column":61},"generated":{"line":1,"column":1105}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":299,"column":0},"generated":{"line":1,"column":1120}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_rename","original":{"line":299,"column":9},"generated":{"line":1,"column":1129}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":299,"column":17},"generated":{"line":1,"column":1131}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":299,"column":24},"generated":{"line":1,"column":1133}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":299,"column":28},"generated":{"line":1,"column":1135}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":299,"column":38},"generated":{"line":1,"column":1137}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":300,"column":6},"generated":{"line":1,"column":1140}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":300,"column":6},"generated":{"line":1,"column":1144}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":300,"column":15},"generated":{"line":1,"column":1146}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_id","original":{"line":300,"column":17},"generated":{"line":1,"column":1147}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":300,"column":22},"generated":{"line":1,"column":1151}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"update","original":{"line":301,"column":6},"generated":{"line":1,"column":1154}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":301,"column":15},"generated":{"line":1,"column":1156}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"$set","original":{"line":301,"column":17},"generated":{"line":1,"column":1157}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":301,"column":23},"generated":{"line":1,"column":1162}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":301,"column":25},"generated":{"line":1,"column":1163}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":301,"column":35},"generated":{"line":1,"column":1172}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":302,"column":2},"generated":{"line":1,"column":1176}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":302,"column":8},"generated":{"line":1,"column":1178}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":302,"column":10},"generated":{"line":1,"column":1180}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"updateOne","original":{"line":302,"column":27},"generated":{"line":1,"column":1197}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":302,"column":37},"generated":{"line":1,"column":1207}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"update","original":{"line":302,"column":45},"generated":{"line":1,"column":1209}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":302,"column":53},"generated":{"line":1,"column":1211}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":302,"column":62},"generated":{"line":1,"column":1220}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"res","original":{"line":302,"column":69},"generated":{"line":1,"column":1222}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":303,"column":8},"generated":{"line":1,"column":1225}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":303,"column":8},"generated":{"line":1,"column":1232}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":304,"column":13},"generated":{"line":1,"column":1234}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":304,"column":22},"generated":{"line":1,"column":1236}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"res","original":{"line":306,"column":9},"generated":{"line":1,"column":1239}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"result","original":{"line":306,"column":13},"generated":{"line":1,"column":1241}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"n","original":{"line":306,"column":20},"generated":{"line":1,"column":1248}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":309,"column":4},"generated":{"line":1,"column":1255}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":307,"column":13},"generated":{"line":1,"column":1259}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"toError","original":{"line":307,"column":22},"generated":{"line":1,"column":1261}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":307,"column":30},"generated":{"line":1,"column":1263}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":307,"column":48},"generated":{"line":1,"column":1279}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":307,"column":53},"generated":{"line":1,"column":1281}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":339,"column":0},"generated":{"line":1,"column":1298}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_drop","original":{"line":339,"column":9},"generated":{"line":1,"column":1307}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":339,"column":15},"generated":{"line":1,"column":1309}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":339,"column":22},"generated":{"line":1,"column":1311}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":340,"column":2},"generated":{"line":1,"column":1314}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":340,"column":8},"generated":{"line":1,"column":1316}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":340,"column":10},"generated":{"line":1,"column":1318}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"drop","original":{"line":340,"column":27},"generated":{"line":1,"column":1335}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":340,"column":32},"generated":{"line":1,"column":1340}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":340,"column":41},"generated":{"line":1,"column":1349}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":341,"column":8},"generated":{"line":1,"column":1352}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":341,"column":8},"generated":{"line":1,"column":1355}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":342,"column":13},"generated":{"line":1,"column":1357}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":342,"column":13},"generated":{"line":1,"column":1364}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":342,"column":22},"generated":{"line":1,"column":1366}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_this","original":{"line":344,"column":4},"generated":{"line":1,"column":1369}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":344,"column":10},"generated":{"line":1,"column":1371}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":344,"column":12},"generated":{"line":1,"column":1373}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"drop","original":{"line":344,"column":30},"generated":{"line":1,"column":1391}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":344,"column":35},"generated":{"line":1,"column":1396}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":344,"column":44},"generated":{"line":1,"column":1405}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":345,"column":10},"generated":{"line":1,"column":1408}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":345,"column":10},"generated":{"line":1,"column":1415}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":346,"column":15},"generated":{"line":1,"column":1417}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"error","original":{"line":346,"column":24},"generated":{"line":1,"column":1419}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":349,"column":13},"generated":{"line":1,"column":1422}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"module","original":{"line":16,"column":0},"generated":{"line":1,"column":1430}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"exports","original":{"line":16,"column":7},"generated":{"line":1,"column":1437}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":16,"column":17},"generated":{"line":1,"column":1445}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"util","original":{"line":58,"column":0},"generated":{"line":1,"column":1447}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"inherits","original":{"line":58,"column":5},"generated":{"line":1,"column":1449}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":58,"column":14},"generated":{"line":1,"column":1458}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"Emitter","original":{"line":58,"column":28},"generated":{"line":1,"column":1460}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":86,"column":0},"generated":{"line":1,"column":1463}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":86,"column":13},"generated":{"line":1,"column":1465}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"openUploadStream","original":{"line":86,"column":23},"generated":{"line":1,"column":1475}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":86,"column":42},"generated":{"line":1,"column":1492}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":86,"column":51},"generated":{"line":1,"column":1501}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":86,"column":61},"generated":{"line":1,"column":1503}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":95,"column":9},"generated":{"line":1,"column":1506}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":88,"column":4},"generated":{"line":1,"column":1513}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":87,"column":6},"generated":{"line":1,"column":1515}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":88,"column":14},"generated":{"line":1,"column":1517}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":88,"column":27},"generated":{"line":1,"column":1519}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":90,"column":14},"generated":{"line":1,"column":1522}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":92,"column":15},"generated":{"line":1,"column":1526}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":93,"column":4},"generated":{"line":1,"column":1543}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":93,"column":12},"generated":{"line":1,"column":1545}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":93,"column":29},"generated":{"line":1,"column":1560}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":93,"column":34},"generated":{"line":1,"column":1565}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":93,"column":36},"generated":{"line":1,"column":1567}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":93,"column":44},"generated":{"line":1,"column":1575}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":95,"column":9},"generated":{"line":1,"column":1591}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketWriteStream","original":{"line":95,"column":13},"generated":{"line":1,"column":1595}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":95,"column":37},"generated":{"line":1,"column":1597}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":95,"column":43},"generated":{"line":1,"column":1602}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":95,"column":53},"generated":{"line":1,"column":1604}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":114,"column":0},"generated":{"line":1,"column":1608}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":114,"column":13},"generated":{"line":1,"column":1610}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"openUploadStreamWithId","original":{"line":114,"column":23},"generated":{"line":1,"column":1620}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":114,"column":48},"generated":{"line":1,"column":1643}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":114,"column":57},"generated":{"line":1,"column":1652}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":114,"column":61},"generated":{"line":1,"column":1654}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":114,"column":71},"generated":{"line":1,"column":1656}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":127,"column":9},"generated":{"line":1,"column":1659}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":116,"column":4},"generated":{"line":1,"column":1666}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":115,"column":6},"generated":{"line":1,"column":1668}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"shallowClone","original":{"line":116,"column":14},"generated":{"line":1,"column":1670}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":116,"column":27},"generated":{"line":1,"column":1672}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":118,"column":14},"generated":{"line":1,"column":1675}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":121,"column":15},"generated":{"line":1,"column":1679}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":122,"column":4},"generated":{"line":1,"column":1696}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":122,"column":12},"generated":{"line":1,"column":1698}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":122,"column":29},"generated":{"line":1,"column":1713}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":122,"column":34},"generated":{"line":1,"column":1718}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":122,"column":36},"generated":{"line":1,"column":1720}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"chunkSizeBytes","original":{"line":122,"column":44},"generated":{"line":1,"column":1728}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":125,"column":2},"generated":{"line":1,"column":1744}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":125,"column":10},"generated":{"line":1,"column":1746}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":125,"column":15},"generated":{"line":1,"column":1749}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":127,"column":9},"generated":{"line":1,"column":1751}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketWriteStream","original":{"line":127,"column":13},"generated":{"line":1,"column":1755}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":127,"column":37},"generated":{"line":1,"column":1757}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":127,"column":43},"generated":{"line":1,"column":1762}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":127,"column":53},"generated":{"line":1,"column":1764}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":141,"column":0},"generated":{"line":1,"column":1768}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":141,"column":13},"generated":{"line":1,"column":1770}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"openDownloadStream","original":{"line":141,"column":23},"generated":{"line":1,"column":1780}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":141,"column":44},"generated":{"line":1,"column":1799}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":141,"column":53},"generated":{"line":1,"column":1808}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":141,"column":57},"generated":{"line":1,"column":1810}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":142,"column":6},"generated":{"line":1,"column":1813}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":142,"column":6},"generated":{"line":1,"column":1817}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":142,"column":15},"generated":{"line":1,"column":1819}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_id","original":{"line":142,"column":17},"generated":{"line":1,"column":1820}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":142,"column":22},"generated":{"line":1,"column":1824}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":148,"column":9},"generated":{"line":1,"column":1827}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":143,"column":2},"generated":{"line":1,"column":1834}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":143,"column":12},"generated":{"line":1,"column":1836}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"start","original":{"line":144,"column":4},"generated":{"line":1,"column":1837}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":144,"column":11},"generated":{"line":1,"column":1843}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":144,"column":22},"generated":{"line":1,"column":1846}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"start","original":{"line":144,"column":30},"generated":{"line":1,"column":1848}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"end","original":{"line":145,"column":4},"generated":{"line":1,"column":1854}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":145,"column":9},"generated":{"line":1,"column":1858}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":145,"column":20},"generated":{"line":1,"column":1861}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"end","original":{"line":145,"column":28},"generated":{"line":1,"column":1863}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":148,"column":9},"generated":{"line":1,"column":1868}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketReadStream","original":{"line":148,"column":13},"generated":{"line":1,"column":1872}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":149,"column":4},"generated":{"line":1,"column":1874}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":149,"column":9},"generated":{"line":1,"column":1879}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":149,"column":11},"generated":{"line":1,"column":1881}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":150,"column":4},"generated":{"line":1,"column":1899}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":150,"column":9},"generated":{"line":1,"column":1904}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":150,"column":11},"generated":{"line":1,"column":1906}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":151,"column":4},"generated":{"line":1,"column":1923}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":151,"column":9},"generated":{"line":1,"column":1928}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":151,"column":11},"generated":{"line":1,"column":1930}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"readPreference","original":{"line":151,"column":19},"generated":{"line":1,"column":1938}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":152,"column":4},"generated":{"line":1,"column":1953}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":153,"column":4},"generated":{"line":1,"column":1955}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":164,"column":0},"generated":{"line":1,"column":1959}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":164,"column":13},"generated":{"line":1,"column":1961}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"delete","original":{"line":164,"column":23},"generated":{"line":1,"column":1971}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":164,"column":32},"generated":{"line":1,"column":1978}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":164,"column":41},"generated":{"line":1,"column":1987}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":164,"column":45},"generated":{"line":1,"column":1989}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeLegacyOperation","original":{"line":165,"column":9},"generated":{"line":1,"column":1992}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeLegacyOperation","original":{"line":165,"column":9},"generated":{"line":1,"column":1999}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":165,"column":32},"generated":{"line":1,"column":2001}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":165,"column":37},"generated":{"line":1,"column":2006}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":165,"column":39},"generated":{"line":1,"column":2008}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":165,"column":42},"generated":{"line":1,"column":2011}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"topology","original":{"line":165,"column":44},"generated":{"line":1,"column":2013}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_delete","original":{"line":165,"column":54},"generated":{"line":1,"column":2022}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":165,"column":63},"generated":{"line":1,"column":2024}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":165,"column":64},"generated":{"line":1,"column":2025}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":165,"column":70},"generated":{"line":1,"column":2030}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":165,"column":74},"generated":{"line":1,"column":2032}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":165,"column":85},"generated":{"line":1,"column":2035}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skipSessions","original":{"line":166,"column":4},"generated":{"line":1,"column":2036}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":166,"column":18},"generated":{"line":1,"column":2050}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":210,"column":0},"generated":{"line":1,"column":2055}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":210,"column":13},"generated":{"line":1,"column":2057}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"find","original":{"line":210,"column":23},"generated":{"line":1,"column":2067}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":210,"column":30},"generated":{"line":1,"column":2072}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":210,"column":39},"generated":{"line":1,"column":2081}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":210,"column":47},"generated":{"line":1,"column":2083}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":211,"column":2},"generated":{"line":1,"column":2086}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":211,"column":11},"generated":{"line":1,"column":2088}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":211,"column":21},"generated":{"line":1,"column":2091}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":212,"column":2},"generated":{"line":1,"column":2094}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":212,"column":12},"generated":{"line":1,"column":2096}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":212,"column":23},"generated":{"line":1,"column":2099}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":214,"column":6},"generated":{"line":1,"column":2102}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":214,"column":6},"generated":{"line":1,"column":2106}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":214,"column":15},"generated":{"line":1,"column":2108}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":214,"column":20},"generated":{"line":1,"column":2113}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":214,"column":22},"generated":{"line":1,"column":2115}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"find","original":{"line":214,"column":39},"generated":{"line":1,"column":2132}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":214,"column":44},"generated":{"line":1,"column":2137}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":235,"column":9},"generated":{"line":1,"column":2140}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":216,"column":27},"generated":{"line":1,"column":2147}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":216,"column":6},"generated":{"line":1,"column":2153}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"batchSize","original":{"line":216,"column":14},"generated":{"line":1,"column":2155}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":217,"column":4},"generated":{"line":1,"column":2166}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"batchSize","original":{"line":217,"column":11},"generated":{"line":1,"column":2168}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":217,"column":21},"generated":{"line":1,"column":2178}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"batchSize","original":{"line":217,"column":29},"generated":{"line":1,"column":2180}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":219,"column":23},"generated":{"line":1,"column":2191}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":219,"column":6},"generated":{"line":1,"column":2197}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"limit","original":{"line":219,"column":14},"generated":{"line":1,"column":2199}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":220,"column":4},"generated":{"line":1,"column":2206}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"limit","original":{"line":220,"column":11},"generated":{"line":1,"column":2208}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":220,"column":17},"generated":{"line":1,"column":2214}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"limit","original":{"line":220,"column":25},"generated":{"line":1,"column":2216}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":222,"column":27},"generated":{"line":1,"column":2223}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":222,"column":6},"generated":{"line":1,"column":2229}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"maxTimeMS","original":{"line":222,"column":14},"generated":{"line":1,"column":2231}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":223,"column":4},"generated":{"line":1,"column":2242}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"maxTimeMS","original":{"line":223,"column":11},"generated":{"line":1,"column":2244}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":223,"column":21},"generated":{"line":1,"column":2254}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"maxTimeMS","original":{"line":223,"column":29},"generated":{"line":1,"column":2256}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":225,"column":33},"generated":{"line":1,"column":2267}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":225,"column":6},"generated":{"line":1,"column":2273}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"noCursorTimeout","original":{"line":225,"column":14},"generated":{"line":1,"column":2275}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":226,"column":4},"generated":{"line":1,"column":2292}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"addCursorFlag","original":{"line":226,"column":11},"generated":{"line":1,"column":2294}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":226,"column":25},"generated":{"line":1,"column":2308}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":226,"column":44},"generated":{"line":1,"column":2326}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"noCursorTimeout","original":{"line":226,"column":52},"generated":{"line":1,"column":2328}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":228,"column":22},"generated":{"line":1,"column":2345}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":228,"column":6},"generated":{"line":1,"column":2351}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":228,"column":14},"generated":{"line":1,"column":2353}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":229,"column":4},"generated":{"line":1,"column":2359}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":229,"column":11},"generated":{"line":1,"column":2361}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":229,"column":16},"generated":{"line":1,"column":2366}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":229,"column":24},"generated":{"line":1,"column":2368}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":231,"column":22},"generated":{"line":1,"column":2374}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":231,"column":6},"generated":{"line":1,"column":2380}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":231,"column":14},"generated":{"line":1,"column":2382}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":232,"column":4},"generated":{"line":1,"column":2388}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":232,"column":11},"generated":{"line":1,"column":2390}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":232,"column":16},"generated":{"line":1,"column":2395}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":232,"column":24},"generated":{"line":1,"column":2397}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"cursor","original":{"line":235,"column":9},"generated":{"line":1,"column":2403}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":253,"column":0},"generated":{"line":1,"column":2406}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":253,"column":13},"generated":{"line":1,"column":2408}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"openDownloadStreamByName","original":{"line":253,"column":23},"generated":{"line":1,"column":2418}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":253,"column":50},"generated":{"line":1,"column":2443}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":253,"column":59},"generated":{"line":1,"column":2452}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":253,"column":69},"generated":{"line":1,"column":2454}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":254,"column":6},"generated":{"line":1,"column":2457}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":254,"column":6},"generated":{"line":1,"column":2461}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":254,"column":13},"generated":{"line":1,"column":2463}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"uploadDate","original":{"line":254,"column":15},"generated":{"line":1,"column":2464}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":254,"column":28},"generated":{"line":1,"column":2476}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":255,"column":6},"generated":{"line":1,"column":2479}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":255,"column":13},"generated":{"line":1,"column":2481}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":256,"column":6},"generated":{"line":1,"column":2486}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":256,"column":37},"generated":{"line":1,"column":2489}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":256,"column":17},"generated":{"line":1,"column":2495}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"revision","original":{"line":256,"column":25},"generated":{"line":1,"column":2497}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":257,"column":8},"generated":{"line":1,"column":2508}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"revision","original":{"line":257,"column":16},"generated":{"line":1,"column":2510}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":257,"column":28},"generated":{"line":1,"column":2520}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":258,"column":6},"generated":{"line":1,"column":2523}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":258,"column":13},"generated":{"line":1,"column":2525}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"uploadDate","original":{"line":258,"column":15},"generated":{"line":1,"column":2526}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":258,"column":27},"generated":{"line":1,"column":2537}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":259,"column":6},"generated":{"line":1,"column":2540}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":259,"column":13},"generated":{"line":1,"column":2542}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"revision","original":{"line":259,"column":21},"generated":{"line":1,"column":2544}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":261,"column":6},"generated":{"line":1,"column":2554}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":261,"column":14},"generated":{"line":1,"column":2557}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"revision","original":{"line":261,"column":22},"generated":{"line":1,"column":2559}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":261,"column":33},"generated":{"line":1,"column":2568}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":265,"column":6},"generated":{"line":1,"column":2571}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":265,"column":6},"generated":{"line":1,"column":2575}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":265,"column":15},"generated":{"line":1,"column":2577}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":265,"column":17},"generated":{"line":1,"column":2578}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":265,"column":27},"generated":{"line":1,"column":2587}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":272,"column":9},"generated":{"line":1,"column":2590}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":266,"column":2},"generated":{"line":1,"column":2597}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":266,"column":12},"generated":{"line":1,"column":2599}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":267,"column":4},"generated":{"line":1,"column":2600}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"sort","original":{"line":267,"column":10},"generated":{"line":1,"column":2605}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":268,"column":4},"generated":{"line":1,"column":2607}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skip","original":{"line":268,"column":10},"generated":{"line":1,"column":2612}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"start","original":{"line":269,"column":4},"generated":{"line":1,"column":2614}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":269,"column":11},"generated":{"line":1,"column":2620}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":269,"column":22},"generated":{"line":1,"column":2623}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"start","original":{"line":269,"column":30},"generated":{"line":1,"column":2625}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"end","original":{"line":270,"column":4},"generated":{"line":1,"column":2631}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":270,"column":9},"generated":{"line":1,"column":2635}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":270,"column":20},"generated":{"line":1,"column":2638}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"end","original":{"line":270,"column":28},"generated":{"line":1,"column":2640}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":272,"column":9},"generated":{"line":1,"column":2645}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucketReadStream","original":{"line":272,"column":13},"generated":{"line":1,"column":2649}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":273,"column":4},"generated":{"line":1,"column":2651}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":273,"column":9},"generated":{"line":1,"column":2656}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_chunksCollection","original":{"line":273,"column":11},"generated":{"line":1,"column":2658}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":274,"column":4},"generated":{"line":1,"column":2676}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":274,"column":9},"generated":{"line":1,"column":2681}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_filesCollection","original":{"line":274,"column":11},"generated":{"line":1,"column":2683}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":275,"column":4},"generated":{"line":1,"column":2700}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":275,"column":9},"generated":{"line":1,"column":2705}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":275,"column":11},"generated":{"line":1,"column":2707}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"readPreference","original":{"line":275,"column":19},"generated":{"line":1,"column":2715}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filter","original":{"line":276,"column":4},"generated":{"line":1,"column":2730}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"options","original":{"line":277,"column":4},"generated":{"line":1,"column":2732}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":289,"column":0},"generated":{"line":1,"column":2736}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":289,"column":13},"generated":{"line":1,"column":2738}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"rename","original":{"line":289,"column":23},"generated":{"line":1,"column":2748}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":289,"column":32},"generated":{"line":1,"column":2755}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":289,"column":41},"generated":{"line":1,"column":2764}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":289,"column":45},"generated":{"line":1,"column":2766}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":289,"column":55},"generated":{"line":1,"column":2768}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeLegacyOperation","original":{"line":290,"column":9},"generated":{"line":1,"column":2771}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeLegacyOperation","original":{"line":290,"column":9},"generated":{"line":1,"column":2778}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":290,"column":32},"generated":{"line":1,"column":2780}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":290,"column":37},"generated":{"line":1,"column":2785}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":290,"column":39},"generated":{"line":1,"column":2787}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":290,"column":42},"generated":{"line":1,"column":2790}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"topology","original":{"line":290,"column":44},"generated":{"line":1,"column":2792}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_rename","original":{"line":290,"column":54},"generated":{"line":1,"column":2801}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":290,"column":63},"generated":{"line":1,"column":2803}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":290,"column":64},"generated":{"line":1,"column":2804}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"id","original":{"line":290,"column":70},"generated":{"line":1,"column":2809}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"filename","original":{"line":290,"column":74},"generated":{"line":1,"column":2811}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":290,"column":84},"generated":{"line":1,"column":2813}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":290,"column":95},"generated":{"line":1,"column":2816}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skipSessions","original":{"line":291,"column":4},"generated":{"line":1,"column":2817}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":291,"column":18},"generated":{"line":1,"column":2831}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":319,"column":0},"generated":{"line":1,"column":2836}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":319,"column":13},"generated":{"line":1,"column":2838}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"drop","original":{"line":319,"column":23},"generated":{"line":1,"column":2848}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":319,"column":30},"generated":{"line":1,"column":2853}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":319,"column":39},"generated":{"line":1,"column":2862}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeLegacyOperation","original":{"line":320,"column":9},"generated":{"line":1,"column":2865}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"executeLegacyOperation","original":{"line":320,"column":9},"generated":{"line":1,"column":2872}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":320,"column":32},"generated":{"line":1,"column":2874}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":320,"column":37},"generated":{"line":1,"column":2879}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":320,"column":39},"generated":{"line":1,"column":2881}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":320,"column":42},"generated":{"line":1,"column":2884}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"topology","original":{"line":320,"column":44},"generated":{"line":1,"column":2886}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"_drop","original":{"line":320,"column":54},"generated":{"line":1,"column":2895}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":320,"column":61},"generated":{"line":1,"column":2897}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":320,"column":62},"generated":{"line":1,"column":2898}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"callback","original":{"line":320,"column":68},"generated":{"line":1,"column":2903}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":320,"column":79},"generated":{"line":1,"column":2906}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"skipSessions","original":{"line":321,"column":4},"generated":{"line":1,"column":2907}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":321,"column":18},"generated":{"line":1,"column":2921}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"GridFSBucket","original":{"line":331,"column":0},"generated":{"line":1,"column":2926}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"prototype","original":{"line":331,"column":13},"generated":{"line":1,"column":2928}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"getLogger","original":{"line":331,"column":23},"generated":{"line":1,"column":2938}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":331,"column":35},"generated":{"line":1,"column":2948}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":332,"column":9},"generated":{"line":1,"column":2959}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","original":{"line":332,"column":9},"generated":{"line":1,"column":2966}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":332,"column":14},"generated":{"line":1,"column":2971}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"db","original":{"line":332,"column":16},"generated":{"line":1,"column":2973}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"s","original":{"line":332,"column":19},"generated":{"line":1,"column":2976}},{"source":"../node_modules/mongodb/lib/gridfs-stream/index.js","name":"logger","original":{"line":332,"column":21},"generated":{"line":1,"column":2978}}],"sources":{"../node_modules/mongodb/lib/gridfs-stream/index.js":"'use strict';\n\nvar Emitter = require('events').EventEmitter;\nvar GridFSBucketReadStream = require('./download');\nvar GridFSBucketWriteStream = require('./upload');\nvar shallowClone = require('../utils').shallowClone;\nvar toError = require('../utils').toError;\nvar util = require('util');\nvar executeLegacyOperation = require('../utils').executeLegacyOperation;\n\nvar DEFAULT_GRIDFS_BUCKET_OPTIONS = {\n  bucketName: 'fs',\n  chunkSizeBytes: 255 * 1024\n};\n\nmodule.exports = GridFSBucket;\n\n/**\n * Constructor for a streaming GridFS interface\n * @class\n * @extends external:EventEmitter\n * @param {Db} db A db handle\n * @param {object} [options] Optional settings.\n * @param {string} [options.bucketName=\"fs\"] The 'files' and 'chunks' collections will be prefixed with the bucket name followed by a dot.\n * @param {number} [options.chunkSizeBytes=255 * 1024] Number of bytes stored in each chunk. Defaults to 255KB\n * @param {object} [options.writeConcern] Optional write concern to be passed to write operations, for instance `{ w: 1 }`\n * @param {object} [options.readPreference] Optional read preference to be passed to read operations\n * @fires GridFSBucketWriteStream#index\n */\n\nfunction GridFSBucket(db, options) {\n  Emitter.apply(this);\n  this.setMaxListeners(0);\n\n  if (options && typeof options === 'object') {\n    options = shallowClone(options);\n    var keys = Object.keys(DEFAULT_GRIDFS_BUCKET_OPTIONS);\n    for (var i = 0; i < keys.length; ++i) {\n      if (!options[keys[i]]) {\n        options[keys[i]] = DEFAULT_GRIDFS_BUCKET_OPTIONS[keys[i]];\n      }\n    }\n  } else {\n    options = DEFAULT_GRIDFS_BUCKET_OPTIONS;\n  }\n\n  this.s = {\n    db: db,\n    options: options,\n    _chunksCollection: db.collection(options.bucketName + '.chunks'),\n    _filesCollection: db.collection(options.bucketName + '.files'),\n    checkedIndexes: false,\n    calledOpenUploadStream: false,\n    promiseLibrary: db.s.promiseLibrary || Promise\n  };\n}\n\nutil.inherits(GridFSBucket, Emitter);\n\n/**\n * When the first call to openUploadStream is made, the upload stream will\n * check to see if it needs to create the proper indexes on the chunks and\n * files collections. This event is fired either when 1) it determines that\n * no index creation is necessary, 2) when it successfully creates the\n * necessary indexes.\n *\n * @event GridFSBucket#index\n * @type {Error}\n */\n\n/**\n * Returns a writable stream (GridFSBucketWriteStream) for writing\n * buffers to GridFS. The stream's 'id' property contains the resulting\n * file's id.\n * @method\n * @param {string} filename The value of the 'filename' key in the files doc\n * @param {object} [options] Optional settings.\n * @param {number} [options.chunkSizeBytes] Optional overwrite this bucket's chunkSizeBytes for this file\n * @param {object} [options.metadata] Optional object to store in the file document's `metadata` field\n * @param {string} [options.contentType] Optional string to store in the file document's `contentType` field\n * @param {array} [options.aliases] Optional array of strings to store in the file document's `aliases` field\n * @param {boolean} [options.disableMD5=false] If true, disables adding an md5 field to file data\n * @return {GridFSBucketWriteStream}\n */\n\nGridFSBucket.prototype.openUploadStream = function(filename, options) {\n  if (options) {\n    options = shallowClone(options);\n  } else {\n    options = {};\n  }\n  if (!options.chunkSizeBytes) {\n    options.chunkSizeBytes = this.s.options.chunkSizeBytes;\n  }\n  return new GridFSBucketWriteStream(this, filename, options);\n};\n\n/**\n * Returns a writable stream (GridFSBucketWriteStream) for writing\n * buffers to GridFS for a custom file id. The stream's 'id' property contains the resulting\n * file's id.\n * @method\n * @param {string|number|object} id A custom id used to identify the file\n * @param {string} filename The value of the 'filename' key in the files doc\n * @param {object} [options] Optional settings.\n * @param {number} [options.chunkSizeBytes] Optional overwrite this bucket's chunkSizeBytes for this file\n * @param {object} [options.metadata] Optional object to store in the file document's `metadata` field\n * @param {string} [options.contentType] Optional string to store in the file document's `contentType` field\n * @param {array} [options.aliases] Optional array of strings to store in the file document's `aliases` field\n * @param {boolean} [options.disableMD5=false] If true, disables adding an md5 field to file data\n * @return {GridFSBucketWriteStream}\n */\n\nGridFSBucket.prototype.openUploadStreamWithId = function(id, filename, options) {\n  if (options) {\n    options = shallowClone(options);\n  } else {\n    options = {};\n  }\n\n  if (!options.chunkSizeBytes) {\n    options.chunkSizeBytes = this.s.options.chunkSizeBytes;\n  }\n\n  options.id = id;\n\n  return new GridFSBucketWriteStream(this, filename, options);\n};\n\n/**\n * Returns a readable stream (GridFSBucketReadStream) for streaming file\n * data from GridFS.\n * @method\n * @param {ObjectId} id The id of the file doc\n * @param {Object} [options] Optional settings.\n * @param {Number} [options.start] Optional 0-based offset in bytes to start streaming from\n * @param {Number} [options.end] Optional 0-based offset in bytes to stop streaming before\n * @return {GridFSBucketReadStream}\n */\n\nGridFSBucket.prototype.openDownloadStream = function(id, options) {\n  var filter = { _id: id };\n  options = {\n    start: options && options.start,\n    end: options && options.end\n  };\n\n  return new GridFSBucketReadStream(\n    this.s._chunksCollection,\n    this.s._filesCollection,\n    this.s.options.readPreference,\n    filter,\n    options\n  );\n};\n\n/**\n * Deletes a file with the given id\n * @method\n * @param {ObjectId} id The id of the file doc\n * @param {GridFSBucket~errorCallback} [callback]\n */\n\nGridFSBucket.prototype.delete = function(id, callback) {\n  return executeLegacyOperation(this.s.db.s.topology, _delete, [this, id, callback], {\n    skipSessions: true\n  });\n};\n\n/**\n * @ignore\n */\n\nfunction _delete(_this, id, callback) {\n  _this.s._filesCollection.deleteOne({ _id: id }, function(error, res) {\n    if (error) {\n      return callback(error);\n    }\n\n    _this.s._chunksCollection.deleteMany({ files_id: id }, function(error) {\n      if (error) {\n        return callback(error);\n      }\n\n      // Delete orphaned chunks before returning FileNotFound\n      if (!res.result.n) {\n        var errmsg = 'FileNotFound: no file with id ' + id + ' found';\n        return callback(new Error(errmsg));\n      }\n\n      callback();\n    });\n  });\n}\n\n/**\n * Convenience wrapper around find on the files collection\n * @method\n * @param {Object} filter\n * @param {Object} [options] Optional settings for cursor\n * @param {number} [options.batchSize=1000] The number of documents to return per batch. See {@link https://docs.mongodb.com/manual/reference/command/find|find command documentation}.\n * @param {number} [options.limit] Optional limit for cursor\n * @param {number} [options.maxTimeMS] Optional maxTimeMS for cursor\n * @param {boolean} [options.noCursorTimeout] Optionally set cursor's `noCursorTimeout` flag\n * @param {number} [options.skip] Optional skip for cursor\n * @param {object} [options.sort] Optional sort for cursor\n * @return {Cursor}\n */\n\nGridFSBucket.prototype.find = function(filter, options) {\n  filter = filter || {};\n  options = options || {};\n\n  var cursor = this.s._filesCollection.find(filter);\n\n  if (options.batchSize != null) {\n    cursor.batchSize(options.batchSize);\n  }\n  if (options.limit != null) {\n    cursor.limit(options.limit);\n  }\n  if (options.maxTimeMS != null) {\n    cursor.maxTimeMS(options.maxTimeMS);\n  }\n  if (options.noCursorTimeout != null) {\n    cursor.addCursorFlag('noCursorTimeout', options.noCursorTimeout);\n  }\n  if (options.skip != null) {\n    cursor.skip(options.skip);\n  }\n  if (options.sort != null) {\n    cursor.sort(options.sort);\n  }\n\n  return cursor;\n};\n\n/**\n * Returns a readable stream (GridFSBucketReadStream) for streaming the\n * file with the given name from GridFS. If there are multiple files with\n * the same name, this will stream the most recent file with the given name\n * (as determined by the `uploadDate` field). You can set the `revision`\n * option to change this behavior.\n * @method\n * @param {String} filename The name of the file to stream\n * @param {Object} [options] Optional settings\n * @param {number} [options.revision=-1] The revision number relative to the oldest file with the given filename. 0 gets you the oldest file, 1 gets you the 2nd oldest, -1 gets you the newest.\n * @param {Number} [options.start] Optional 0-based offset in bytes to start streaming from\n * @param {Number} [options.end] Optional 0-based offset in bytes to stop streaming before\n * @return {GridFSBucketReadStream}\n */\n\nGridFSBucket.prototype.openDownloadStreamByName = function(filename, options) {\n  var sort = { uploadDate: -1 };\n  var skip = null;\n  if (options && options.revision != null) {\n    if (options.revision >= 0) {\n      sort = { uploadDate: 1 };\n      skip = options.revision;\n    } else {\n      skip = -options.revision - 1;\n    }\n  }\n\n  var filter = { filename: filename };\n  options = {\n    sort: sort,\n    skip: skip,\n    start: options && options.start,\n    end: options && options.end\n  };\n  return new GridFSBucketReadStream(\n    this.s._chunksCollection,\n    this.s._filesCollection,\n    this.s.options.readPreference,\n    filter,\n    options\n  );\n};\n\n/**\n * Renames the file with the given _id to the given string\n * @method\n * @param {ObjectId} id the id of the file to rename\n * @param {String} filename new name for the file\n * @param {GridFSBucket~errorCallback} [callback]\n */\n\nGridFSBucket.prototype.rename = function(id, filename, callback) {\n  return executeLegacyOperation(this.s.db.s.topology, _rename, [this, id, filename, callback], {\n    skipSessions: true\n  });\n};\n\n/**\n * @ignore\n */\n\nfunction _rename(_this, id, filename, callback) {\n  var filter = { _id: id };\n  var update = { $set: { filename: filename } };\n  _this.s._filesCollection.updateOne(filter, update, function(error, res) {\n    if (error) {\n      return callback(error);\n    }\n    if (!res.result.n) {\n      return callback(toError('File with id ' + id + ' not found'));\n    }\n    callback();\n  });\n}\n\n/**\n * Removes this bucket's files collection, followed by its chunks collection.\n * @method\n * @param {GridFSBucket~errorCallback} [callback]\n */\n\nGridFSBucket.prototype.drop = function(callback) {\n  return executeLegacyOperation(this.s.db.s.topology, _drop, [this, callback], {\n    skipSessions: true\n  });\n};\n\n/**\n * Return the db logger\n * @method\n * @return {Logger} return the db logger\n * @ignore\n */\nGridFSBucket.prototype.getLogger = function() {\n  return this.s.db.s.logger;\n};\n\n/**\n * @ignore\n */\n\nfunction _drop(_this, callback) {\n  _this.s._filesCollection.drop(function(error) {\n    if (error) {\n      return callback(error);\n    }\n    _this.s._chunksCollection.drop(function(error) {\n      if (error) {\n        return callback(error);\n      }\n\n      return callback();\n    });\n  });\n}\n\n/**\n * Callback format for all GridFSBucket methods that can accept a callback.\n * @callback GridFSBucket~errorCallback\n * @param {MongoError|undefined} error If present, an error instance representing any errors that occurred\n * @param {*} result If present, a returned result for the method\n */\n"},"lineCount":null}},"error":null,"hash":"13b70aef9a0c4399bb204ba4f356750e","cacheData":{"env":{}}}