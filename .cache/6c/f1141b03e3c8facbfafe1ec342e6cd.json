{"id":"z5C7","dependencies":[{"name":"/Users/etienne/skyenv/package.json","includedInParent":true,"mtime":1596478551490},{"name":"/Users/etienne/skyenv/node_modules/mongodb/package.json","includedInParent":true,"mtime":1596467161400},{"name":"../utils","loc":{"line":5,"column":24},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/find_one.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/utils.js"},{"name":"./operation","loc":{"line":4,"column":30},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/find_one.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/operation.js"}],"generated":{"js":"\"use strict\";const t=require(\"../utils\").handleCallback,e=require(\"./operation\").OperationBase,i=require(\"../utils\").toError;class r extends e{constructor(t,e,i){super(i),this.collection=t,this.query=e}execute(e){const r=this.collection,s=this.query,l=this.options;try{r.find(s,l).limit(-1).batchSize(1).next((r,s)=>{if(null!=r)return t(e,i(r),null);t(e,null,s)})}catch(o){e(o)}}}module.exports=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"handleCallback","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"require","original":{"line":3,"column":23},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":3,"column":31},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"handleCallback","original":{"line":3,"column":43},"generated":{"line":1,"column":41}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"OperationBase","original":{"line":4,"column":6},"generated":{"line":1,"column":56}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"require","original":{"line":4,"column":22},"generated":{"line":1,"column":58}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":4,"column":30},"generated":{"line":1,"column":66}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"OperationBase","original":{"line":4,"column":45},"generated":{"line":1,"column":81}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"toError","original":{"line":5,"column":6},"generated":{"line":1,"column":95}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"require","original":{"line":5,"column":16},"generated":{"line":1,"column":97}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":5,"column":24},"generated":{"line":1,"column":105}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"toError","original":{"line":5,"column":36},"generated":{"line":1,"column":117}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":7,"column":0},"generated":{"line":1,"column":125}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"FindOneOperation","original":{"line":7,"column":6},"generated":{"line":1,"column":131}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"OperationBase","original":{"line":7,"column":31},"generated":{"line":1,"column":141}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"constructor","original":{"line":8,"column":2},"generated":{"line":1,"column":143}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"collection","original":{"line":8,"column":14},"generated":{"line":1,"column":155}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"query","original":{"line":8,"column":26},"generated":{"line":1,"column":157}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"options","original":{"line":8,"column":33},"generated":{"line":1,"column":159}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"options","original":{"line":9,"column":10},"generated":{"line":1,"column":162}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"options","original":{"line":9,"column":10},"generated":{"line":1,"column":168}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"collection","original":{"line":11,"column":9},"generated":{"line":1,"column":171}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"collection","original":{"line":11,"column":9},"generated":{"line":1,"column":176}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"collection","original":{"line":11,"column":22},"generated":{"line":1,"column":187}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"query","original":{"line":12,"column":9},"generated":{"line":1,"column":189}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"query","original":{"line":12,"column":9},"generated":{"line":1,"column":194}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"query","original":{"line":12,"column":17},"generated":{"line":1,"column":200}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"execute","original":{"line":15,"column":2},"generated":{"line":1,"column":202}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"callback","original":{"line":15,"column":10},"generated":{"line":1,"column":210}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"coll","original":{"line":16,"column":10},"generated":{"line":1,"column":213}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"coll","original":{"line":16,"column":10},"generated":{"line":1,"column":219}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":16,"column":17},"generated":{"line":1,"column":221}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"collection","original":{"line":16,"column":22},"generated":{"line":1,"column":226}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"query","original":{"line":17,"column":10},"generated":{"line":1,"column":237}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":17,"column":18},"generated":{"line":1,"column":239}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"query","original":{"line":17,"column":23},"generated":{"line":1,"column":244}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"options","original":{"line":18,"column":10},"generated":{"line":1,"column":250}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":18,"column":20},"generated":{"line":1,"column":252}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"options","original":{"line":18,"column":25},"generated":{"line":1,"column":257}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":20,"column":8},"generated":{"line":1,"column":265}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"coll","original":{"line":21,"column":21},"generated":{"line":1,"column":269}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"find","original":{"line":22,"column":9},"generated":{"line":1,"column":271}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"query","original":{"line":22,"column":14},"generated":{"line":1,"column":276}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"options","original":{"line":22,"column":21},"generated":{"line":1,"column":278}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"limit","original":{"line":23,"column":9},"generated":{"line":1,"column":281}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":23,"column":16},"generated":{"line":1,"column":288}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"batchSize","original":{"line":24,"column":9},"generated":{"line":1,"column":291}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":24,"column":19},"generated":{"line":1,"column":301}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"next","original":{"line":27,"column":13},"generated":{"line":1,"column":304}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":27,"column":18},"generated":{"line":1,"column":309}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"err","original":{"line":27,"column":19},"generated":{"line":1,"column":310}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"item","original":{"line":27,"column":24},"generated":{"line":1,"column":312}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"err","original":{"line":28,"column":12},"generated":{"line":1,"column":317}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":28,"column":19},"generated":{"line":1,"column":320}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"err","original":{"line":28,"column":12},"generated":{"line":1,"column":326}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":28,"column":25},"generated":{"line":1,"column":328}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"handleCallback","original":{"line":28,"column":32},"generated":{"line":1,"column":335}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"callback","original":{"line":28,"column":47},"generated":{"line":1,"column":337}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"toError","original":{"line":28,"column":57},"generated":{"line":1,"column":339}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"err","original":{"line":28,"column":65},"generated":{"line":1,"column":341}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":28,"column":71},"generated":{"line":1,"column":344}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"handleCallback","original":{"line":29,"column":8},"generated":{"line":1,"column":350}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"callback","original":{"line":29,"column":23},"generated":{"line":1,"column":352}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":29,"column":33},"generated":{"line":1,"column":354}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"item","original":{"line":29,"column":39},"generated":{"line":1,"column":359}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","original":{"line":31,"column":6},"generated":{"line":1,"column":364}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"e","original":{"line":31,"column":13},"generated":{"line":1,"column":370}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"callback","original":{"line":32,"column":6},"generated":{"line":1,"column":373}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"e","original":{"line":32,"column":15},"generated":{"line":1,"column":375}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"module","original":{"line":37,"column":0},"generated":{"line":1,"column":380}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"exports","original":{"line":37,"column":7},"generated":{"line":1,"column":387}},{"source":"../node_modules/mongodb/lib/operations/find_one.js","name":"FindOneOperation","original":{"line":37,"column":17},"generated":{"line":1,"column":395}}],"sources":{"../node_modules/mongodb/lib/operations/find_one.js":"'use strict';\n\nconst handleCallback = require('../utils').handleCallback;\nconst OperationBase = require('./operation').OperationBase;\nconst toError = require('../utils').toError;\n\nclass FindOneOperation extends OperationBase {\n  constructor(collection, query, options) {\n    super(options);\n\n    this.collection = collection;\n    this.query = query;\n  }\n\n  execute(callback) {\n    const coll = this.collection;\n    const query = this.query;\n    const options = this.options;\n\n    try {\n      const cursor = coll\n        .find(query, options)\n        .limit(-1)\n        .batchSize(1);\n\n      // Return the item\n      cursor.next((err, item) => {\n        if (err != null) return handleCallback(callback, toError(err), null);\n        handleCallback(callback, null, item);\n      });\n    } catch (e) {\n      callback(e);\n    }\n  }\n}\n\nmodule.exports = FindOneOperation;\n"},"lineCount":null}},"error":null,"hash":"a0807a818f4247bdf48f0ee4df896a32","cacheData":{"env":{}}}