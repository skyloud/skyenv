{"id":"hhsG","dependencies":[{"name":"/Users/etienne/skyenv/package.json","includedInParent":true,"mtime":1596478551490},{"name":"/Users/etienne/skyenv/node_modules/mongodb/package.json","includedInParent":true,"mtime":1596467161400},{"name":"./operation","loc":{"line":3,"column":30},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/execute_db_admin_command.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/operation.js"},{"name":"../utils","loc":{"line":6,"column":33},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/execute_db_admin_command.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/utils.js"},{"name":"../core","loc":{"line":5,"column":27},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/execute_db_admin_command.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/core/index.js"}],"generated":{"js":"\"use strict\";const e=require(\"./operation\").OperationBase,o=require(\"../utils\").handleCallback,s=require(\"../core\").MongoError,r=require(\"../utils\").MongoDBNamespace;class t extends e{constructor(e,o,s){super(s),this.db=e,this.selector=o}execute(e){const t=this.db,i=this.selector,n=this.options,c=new r(\"admin\",\"$cmd\");t.s.topology.command(c,i,n,(r,i)=>t.serverConfig&&t.serverConfig.isDestroyed()?e(new s(\"topology was destroyed\")):r?o(e,r):void o(e,null,i.result))}}module.exports=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"OperationBase","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"require","original":{"line":3,"column":22},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":3,"column":30},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"OperationBase","original":{"line":3,"column":45},"generated":{"line":1,"column":44}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"handleCallback","original":{"line":4,"column":6},"generated":{"line":1,"column":58}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"require","original":{"line":4,"column":23},"generated":{"line":1,"column":60}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":4,"column":31},"generated":{"line":1,"column":68}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"handleCallback","original":{"line":4,"column":43},"generated":{"line":1,"column":80}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"MongoError","original":{"line":5,"column":6},"generated":{"line":1,"column":95}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"require","original":{"line":5,"column":19},"generated":{"line":1,"column":97}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":5,"column":27},"generated":{"line":1,"column":105}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"MongoError","original":{"line":5,"column":38},"generated":{"line":1,"column":116}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"MongoDBNamespace","original":{"line":6,"column":6},"generated":{"line":1,"column":127}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"require","original":{"line":6,"column":25},"generated":{"line":1,"column":129}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":6,"column":33},"generated":{"line":1,"column":137}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"MongoDBNamespace","original":{"line":6,"column":45},"generated":{"line":1,"column":149}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":8,"column":0},"generated":{"line":1,"column":166}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"ExecuteDbAdminCommandOperation","original":{"line":8,"column":6},"generated":{"line":1,"column":172}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"OperationBase","original":{"line":8,"column":45},"generated":{"line":1,"column":182}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"constructor","original":{"line":9,"column":2},"generated":{"line":1,"column":184}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":9,"column":14},"generated":{"line":1,"column":196}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"selector","original":{"line":9,"column":18},"generated":{"line":1,"column":198}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"options","original":{"line":9,"column":28},"generated":{"line":1,"column":200}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"options","original":{"line":10,"column":10},"generated":{"line":1,"column":203}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"options","original":{"line":10,"column":10},"generated":{"line":1,"column":209}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":12,"column":9},"generated":{"line":1,"column":212}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":12,"column":9},"generated":{"line":1,"column":217}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":12,"column":14},"generated":{"line":1,"column":220}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"selector","original":{"line":13,"column":9},"generated":{"line":1,"column":222}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"selector","original":{"line":13,"column":9},"generated":{"line":1,"column":227}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"selector","original":{"line":13,"column":20},"generated":{"line":1,"column":236}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"execute","original":{"line":16,"column":2},"generated":{"line":1,"column":238}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"callback","original":{"line":16,"column":10},"generated":{"line":1,"column":246}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":17,"column":10},"generated":{"line":1,"column":249}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":17,"column":10},"generated":{"line":1,"column":255}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":17,"column":15},"generated":{"line":1,"column":257}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":17,"column":20},"generated":{"line":1,"column":262}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"selector","original":{"line":18,"column":10},"generated":{"line":1,"column":265}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":18,"column":21},"generated":{"line":1,"column":267}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"selector","original":{"line":18,"column":26},"generated":{"line":1,"column":272}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"options","original":{"line":19,"column":10},"generated":{"line":1,"column":281}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":19,"column":20},"generated":{"line":1,"column":283}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"options","original":{"line":19,"column":25},"generated":{"line":1,"column":288}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"namespace","original":{"line":21,"column":10},"generated":{"line":1,"column":296}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":21,"column":22},"generated":{"line":1,"column":298}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"MongoDBNamespace","original":{"line":21,"column":26},"generated":{"line":1,"column":302}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":21,"column":43},"generated":{"line":1,"column":304}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":21,"column":52},"generated":{"line":1,"column":312}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":22,"column":4},"generated":{"line":1,"column":320}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"s","original":{"line":22,"column":7},"generated":{"line":1,"column":322}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"topology","original":{"line":22,"column":9},"generated":{"line":1,"column":324}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"command","original":{"line":22,"column":18},"generated":{"line":1,"column":333}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"namespace","original":{"line":22,"column":26},"generated":{"line":1,"column":341}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"selector","original":{"line":22,"column":37},"generated":{"line":1,"column":343}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"options","original":{"line":22,"column":47},"generated":{"line":1,"column":345}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":22,"column":56},"generated":{"line":1,"column":347}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"err","original":{"line":22,"column":57},"generated":{"line":1,"column":348}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"result","original":{"line":22,"column":62},"generated":{"line":1,"column":350}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":24,"column":10},"generated":{"line":1,"column":354}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"serverConfig","original":{"line":24,"column":13},"generated":{"line":1,"column":356}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"db","original":{"line":24,"column":29},"generated":{"line":1,"column":370}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"serverConfig","original":{"line":24,"column":32},"generated":{"line":1,"column":372}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"isDestroyed","original":{"line":24,"column":45},"generated":{"line":1,"column":385}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"callback","original":{"line":25,"column":15},"generated":{"line":1,"column":399}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":25,"column":24},"generated":{"line":1,"column":401}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"MongoError","original":{"line":25,"column":28},"generated":{"line":1,"column":405}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":25,"column":39},"generated":{"line":1,"column":407}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"err","original":{"line":28,"column":10},"generated":{"line":1,"column":434}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"handleCallback","original":{"line":28,"column":22},"generated":{"line":1,"column":436}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"callback","original":{"line":28,"column":37},"generated":{"line":1,"column":438}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"err","original":{"line":28,"column":47},"generated":{"line":1,"column":440}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"handleCallback","original":{"line":29,"column":6},"generated":{"line":1,"column":448}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"callback","original":{"line":29,"column":21},"generated":{"line":1,"column":450}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","original":{"line":29,"column":31},"generated":{"line":1,"column":452}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"result","original":{"line":29,"column":37},"generated":{"line":1,"column":457}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"result","original":{"line":29,"column":44},"generated":{"line":1,"column":459}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"module","original":{"line":34,"column":0},"generated":{"line":1,"column":469}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"exports","original":{"line":34,"column":7},"generated":{"line":1,"column":476}},{"source":"../node_modules/mongodb/lib/operations/execute_db_admin_command.js","name":"ExecuteDbAdminCommandOperation","original":{"line":34,"column":17},"generated":{"line":1,"column":484}}],"sources":{"../node_modules/mongodb/lib/operations/execute_db_admin_command.js":"'use strict';\n\nconst OperationBase = require('./operation').OperationBase;\nconst handleCallback = require('../utils').handleCallback;\nconst MongoError = require('../core').MongoError;\nconst MongoDBNamespace = require('../utils').MongoDBNamespace;\n\nclass ExecuteDbAdminCommandOperation extends OperationBase {\n  constructor(db, selector, options) {\n    super(options);\n\n    this.db = db;\n    this.selector = selector;\n  }\n\n  execute(callback) {\n    const db = this.db;\n    const selector = this.selector;\n    const options = this.options;\n\n    const namespace = new MongoDBNamespace('admin', '$cmd');\n    db.s.topology.command(namespace, selector, options, (err, result) => {\n      // Did the user destroy the topology\n      if (db.serverConfig && db.serverConfig.isDestroyed()) {\n        return callback(new MongoError('topology was destroyed'));\n      }\n\n      if (err) return handleCallback(callback, err);\n      handleCallback(callback, null, result.result);\n    });\n  }\n}\n\nmodule.exports = ExecuteDbAdminCommandOperation;\n"},"lineCount":null}},"error":null,"hash":"9fde8ee3554595a3dbd9332d4b3fb1cc","cacheData":{"env":{}}}