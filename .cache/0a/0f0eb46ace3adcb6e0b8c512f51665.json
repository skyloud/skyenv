{"id":"aDXE","dependencies":[{"name":"/Users/etienne/skyenv/package.json","includedInParent":true,"mtime":1596478551490},{"name":"/Users/etienne/skyenv/node_modules/mongodb/package.json","includedInParent":true,"mtime":1596467161400},{"name":"./operation","loc":{"line":4,"column":30},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/re_index.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/operation.js"},{"name":"./command_v2","loc":{"line":5,"column":35},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/re_index.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/command_v2.js"},{"name":"../core/sdam/common","loc":{"line":7,"column":27},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/re_index.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/core/sdam/common.js"},{"name":"../core","loc":{"line":8,"column":27},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/re_index.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/core/index.js"}],"generated":{"js":"\"use strict\";const e=require(\"./operation\").Aspect,r=require(\"./operation\").defineAspects,o=require(\"./command_v2\"),n=require(\"../core/sdam/common\").serverType,c=require(\"../core/sdam/common\").ServerType,s=require(\"../core\").MongoError;class t extends o{constructor(e,r){super(e,r),this.collectionName=e.collectionName}execute(e,r){n(e)===c.Standalone?super.executeCommand(e,{reIndex:this.collectionName},(e,o)=>{e?r(e):r(null,!!o.ok)}):r(new s(\"reIndex can only be executed on standalone servers.\"))}}r(t,[e.EXECUTE_WITH_SELECTION]),module.exports=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"Aspect","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"require","original":{"line":3,"column":15},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":3,"column":23},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"Aspect","original":{"line":3,"column":38},"generated":{"line":1,"column":44}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"defineAspects","original":{"line":4,"column":6},"generated":{"line":1,"column":51}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"require","original":{"line":4,"column":22},"generated":{"line":1,"column":53}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":4,"column":30},"generated":{"line":1,"column":61}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"defineAspects","original":{"line":4,"column":45},"generated":{"line":1,"column":76}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"CommandOperationV2","original":{"line":5,"column":6},"generated":{"line":1,"column":90}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"require","original":{"line":5,"column":27},"generated":{"line":1,"column":92}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":5,"column":35},"generated":{"line":1,"column":100}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"serverType","original":{"line":6,"column":6},"generated":{"line":1,"column":116}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"require","original":{"line":6,"column":19},"generated":{"line":1,"column":118}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":6,"column":27},"generated":{"line":1,"column":126}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"serverType","original":{"line":6,"column":50},"generated":{"line":1,"column":149}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"ServerType","original":{"line":7,"column":6},"generated":{"line":1,"column":160}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"require","original":{"line":7,"column":19},"generated":{"line":1,"column":162}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":7,"column":27},"generated":{"line":1,"column":170}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"ServerType","original":{"line":7,"column":50},"generated":{"line":1,"column":193}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"MongoError","original":{"line":8,"column":6},"generated":{"line":1,"column":204}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"require","original":{"line":8,"column":19},"generated":{"line":1,"column":206}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":8,"column":27},"generated":{"line":1,"column":214}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"MongoError","original":{"line":8,"column":38},"generated":{"line":1,"column":225}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":236}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"ReIndexOperation","original":{"line":10,"column":6},"generated":{"line":1,"column":242}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"CommandOperationV2","original":{"line":10,"column":31},"generated":{"line":1,"column":252}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"constructor","original":{"line":11,"column":2},"generated":{"line":1,"column":254}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"collection","original":{"line":11,"column":14},"generated":{"line":1,"column":266}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"options","original":{"line":11,"column":26},"generated":{"line":1,"column":268}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"collection","original":{"line":12,"column":10},"generated":{"line":1,"column":271}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"collection","original":{"line":12,"column":10},"generated":{"line":1,"column":277}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"options","original":{"line":12,"column":22},"generated":{"line":1,"column":279}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"collectionName","original":{"line":13,"column":9},"generated":{"line":1,"column":282}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"collectionName","original":{"line":13,"column":9},"generated":{"line":1,"column":287}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"collection","original":{"line":13,"column":26},"generated":{"line":1,"column":302}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"collectionName","original":{"line":13,"column":37},"generated":{"line":1,"column":304}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"execute","original":{"line":16,"column":2},"generated":{"line":1,"column":319}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"server","original":{"line":16,"column":10},"generated":{"line":1,"column":327}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"callback","original":{"line":16,"column":18},"generated":{"line":1,"column":329}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"serverType","original":{"line":17,"column":8},"generated":{"line":1,"column":332}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"server","original":{"line":17,"column":19},"generated":{"line":1,"column":334}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"ServerType","original":{"line":17,"column":31},"generated":{"line":1,"column":339}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"Standalone","original":{"line":17,"column":42},"generated":{"line":1,"column":341}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"executeCommand","original":{"line":21,"column":10},"generated":{"line":1,"column":352}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"executeCommand","original":{"line":21,"column":10},"generated":{"line":1,"column":358}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"server","original":{"line":21,"column":25},"generated":{"line":1,"column":373}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":21,"column":33},"generated":{"line":1,"column":375}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"reIndex","original":{"line":21,"column":35},"generated":{"line":1,"column":376}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":21,"column":44},"generated":{"line":1,"column":384}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"collectionName","original":{"line":21,"column":49},"generated":{"line":1,"column":389}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":21,"column":67},"generated":{"line":1,"column":405}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"err","original":{"line":21,"column":68},"generated":{"line":1,"column":406}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"result","original":{"line":21,"column":73},"generated":{"line":1,"column":408}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"err","original":{"line":22,"column":10},"generated":{"line":1,"column":413}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"callback","original":{"line":23,"column":8},"generated":{"line":1,"column":415}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"err","original":{"line":23,"column":17},"generated":{"line":1,"column":417}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"callback","original":{"line":26,"column":6},"generated":{"line":1,"column":420}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":26,"column":15},"generated":{"line":1,"column":422}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"result","original":{"line":26,"column":23},"generated":{"line":1,"column":429}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"ok","original":{"line":26,"column":30},"generated":{"line":1,"column":431}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"callback","original":{"line":18,"column":6},"generated":{"line":1,"column":437}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":18,"column":15},"generated":{"line":1,"column":439}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"MongoError","original":{"line":18,"column":19},"generated":{"line":1,"column":443}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":18,"column":14},"generated":{"line":1,"column":445}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"defineAspects","original":{"line":31,"column":0},"generated":{"line":1,"column":502}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"ReIndexOperation","original":{"line":31,"column":14},"generated":{"line":1,"column":504}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","original":{"line":31,"column":32},"generated":{"line":1,"column":506}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"Aspect","original":{"line":31,"column":33},"generated":{"line":1,"column":507}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"EXECUTE_WITH_SELECTION","original":{"line":31,"column":40},"generated":{"line":1,"column":509}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"module","original":{"line":33,"column":0},"generated":{"line":1,"column":534}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"exports","original":{"line":33,"column":7},"generated":{"line":1,"column":541}},{"source":"../node_modules/mongodb/lib/operations/re_index.js","name":"ReIndexOperation","original":{"line":33,"column":17},"generated":{"line":1,"column":549}}],"sources":{"../node_modules/mongodb/lib/operations/re_index.js":"'use strict';\n\nconst Aspect = require('./operation').Aspect;\nconst defineAspects = require('./operation').defineAspects;\nconst CommandOperationV2 = require('./command_v2');\nconst serverType = require('../core/sdam/common').serverType;\nconst ServerType = require('../core/sdam/common').ServerType;\nconst MongoError = require('../core').MongoError;\n\nclass ReIndexOperation extends CommandOperationV2 {\n  constructor(collection, options) {\n    super(collection, options);\n    this.collectionName = collection.collectionName;\n  }\n\n  execute(server, callback) {\n    if (serverType(server) !== ServerType.Standalone) {\n      callback(new MongoError(`reIndex can only be executed on standalone servers.`));\n      return;\n    }\n    super.executeCommand(server, { reIndex: this.collectionName }, (err, result) => {\n      if (err) {\n        callback(err);\n        return;\n      }\n      callback(null, !!result.ok);\n    });\n  }\n}\n\ndefineAspects(ReIndexOperation, [Aspect.EXECUTE_WITH_SELECTION]);\n\nmodule.exports = ReIndexOperation;\n"},"lineCount":null}},"error":null,"hash":"d0e4cd099d435c577b980b749a3f97c1","cacheData":{"env":{}}}