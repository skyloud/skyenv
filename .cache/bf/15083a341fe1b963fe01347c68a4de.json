{"id":"DHdc","dependencies":[{"name":"/Users/etienne/skyenv/package.json","includedInParent":true,"mtime":1596478551490},{"name":"/Users/etienne/skyenv/node_modules/mongodb/package.json","includedInParent":true,"mtime":1596467161400},{"name":"./operation","loc":{"line":3,"column":30},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/update_many.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/operation.js"},{"name":"./common_functions","loc":{"line":5,"column":32},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/update_many.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/common_functions.js"},{"name":"../utils","loc":{"line":6,"column":35},"parent":"/Users/etienne/skyenv/node_modules/mongodb/lib/operations/update_many.js","resolved":"/Users/etienne/skyenv/node_modules/mongodb/lib/utils.js"}],"generated":{"js":"\"use strict\";const t=require(\"./operation\").OperationBase,e=require(\"./common_functions\").updateCallback,o=require(\"./common_functions\").updateDocuments,i=require(\"../utils\").hasAtomicOperators;class r extends t{constructor(t,e,o,r){if(super(r),!i(o))throw new TypeError(\"Update document requires atomic operators\");this.collection=t,this.filter=e,this.update=o}execute(t){const i=this.collection,r=this.filter,s=this.update,c=this.options;c.multi=!0,o(i,r,s,c,(o,i)=>e(o,i,t))}}module.exports=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"OperationBase","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"require","original":{"line":3,"column":22},"generated":{"line":1,"column":21}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":3,"column":30},"generated":{"line":1,"column":29}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"OperationBase","original":{"line":3,"column":45},"generated":{"line":1,"column":44}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"updateCallback","original":{"line":4,"column":6},"generated":{"line":1,"column":58}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"require","original":{"line":4,"column":23},"generated":{"line":1,"column":60}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":4,"column":31},"generated":{"line":1,"column":68}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"updateCallback","original":{"line":4,"column":53},"generated":{"line":1,"column":90}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"updateDocuments","original":{"line":5,"column":6},"generated":{"line":1,"column":105}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"require","original":{"line":5,"column":24},"generated":{"line":1,"column":107}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":5,"column":32},"generated":{"line":1,"column":115}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"updateDocuments","original":{"line":5,"column":54},"generated":{"line":1,"column":137}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"hasAtomicOperators","original":{"line":6,"column":6},"generated":{"line":1,"column":153}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"require","original":{"line":6,"column":27},"generated":{"line":1,"column":155}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":6,"column":35},"generated":{"line":1,"column":163}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"hasAtomicOperators","original":{"line":6,"column":47},"generated":{"line":1,"column":175}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":8,"column":0},"generated":{"line":1,"column":194}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"UpdateManyOperation","original":{"line":8,"column":6},"generated":{"line":1,"column":200}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"OperationBase","original":{"line":8,"column":34},"generated":{"line":1,"column":210}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"constructor","original":{"line":9,"column":2},"generated":{"line":1,"column":212}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"collection","original":{"line":9,"column":14},"generated":{"line":1,"column":224}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"filter","original":{"line":9,"column":26},"generated":{"line":1,"column":226}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"update","original":{"line":9,"column":34},"generated":{"line":1,"column":228}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"options","original":{"line":9,"column":42},"generated":{"line":1,"column":230}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":12,"column":8},"generated":{"line":1,"column":233}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"options","original":{"line":10,"column":10},"generated":{"line":1,"column":236}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"options","original":{"line":10,"column":10},"generated":{"line":1,"column":242}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"hasAtomicOperators","original":{"line":12,"column":9},"generated":{"line":1,"column":246}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"update","original":{"line":12,"column":28},"generated":{"line":1,"column":248}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":13,"column":12},"generated":{"line":1,"column":251}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":13,"column":12},"generated":{"line":1,"column":257}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"TypeError","original":{"line":13,"column":16},"generated":{"line":1,"column":261}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":13,"column":26},"generated":{"line":1,"column":271}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"collection","original":{"line":16,"column":9},"generated":{"line":1,"column":316}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"collection","original":{"line":16,"column":9},"generated":{"line":1,"column":321}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"collection","original":{"line":16,"column":22},"generated":{"line":1,"column":332}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"filter","original":{"line":17,"column":9},"generated":{"line":1,"column":334}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"filter","original":{"line":17,"column":9},"generated":{"line":1,"column":339}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"filter","original":{"line":17,"column":18},"generated":{"line":1,"column":346}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"update","original":{"line":18,"column":9},"generated":{"line":1,"column":348}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"update","original":{"line":18,"column":9},"generated":{"line":1,"column":353}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"update","original":{"line":18,"column":18},"generated":{"line":1,"column":360}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"execute","original":{"line":21,"column":2},"generated":{"line":1,"column":362}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"callback","original":{"line":21,"column":10},"generated":{"line":1,"column":370}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"coll","original":{"line":22,"column":10},"generated":{"line":1,"column":373}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"coll","original":{"line":22,"column":10},"generated":{"line":1,"column":379}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":22,"column":17},"generated":{"line":1,"column":381}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"collection","original":{"line":22,"column":22},"generated":{"line":1,"column":386}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"filter","original":{"line":23,"column":10},"generated":{"line":1,"column":397}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":23,"column":19},"generated":{"line":1,"column":399}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"filter","original":{"line":23,"column":24},"generated":{"line":1,"column":404}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"update","original":{"line":24,"column":10},"generated":{"line":1,"column":411}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":24,"column":19},"generated":{"line":1,"column":413}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"update","original":{"line":24,"column":24},"generated":{"line":1,"column":418}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"options","original":{"line":25,"column":10},"generated":{"line":1,"column":425}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":25,"column":20},"generated":{"line":1,"column":427}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"options","original":{"line":25,"column":25},"generated":{"line":1,"column":432}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"options","original":{"line":28,"column":4},"generated":{"line":1,"column":440}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"multi","original":{"line":28,"column":12},"generated":{"line":1,"column":442}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":28,"column":20},"generated":{"line":1,"column":449}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"updateDocuments","original":{"line":30,"column":4},"generated":{"line":1,"column":451}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"coll","original":{"line":30,"column":20},"generated":{"line":1,"column":453}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"filter","original":{"line":30,"column":26},"generated":{"line":1,"column":455}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"update","original":{"line":30,"column":34},"generated":{"line":1,"column":457}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"options","original":{"line":30,"column":42},"generated":{"line":1,"column":459}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","original":{"line":30,"column":51},"generated":{"line":1,"column":461}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"err","original":{"line":30,"column":52},"generated":{"line":1,"column":462}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"r","original":{"line":30,"column":57},"generated":{"line":1,"column":464}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"updateCallback","original":{"line":30,"column":63},"generated":{"line":1,"column":468}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"err","original":{"line":30,"column":78},"generated":{"line":1,"column":470}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"r","original":{"line":30,"column":83},"generated":{"line":1,"column":472}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"callback","original":{"line":30,"column":86},"generated":{"line":1,"column":474}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"module","original":{"line":34,"column":0},"generated":{"line":1,"column":479}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"exports","original":{"line":34,"column":7},"generated":{"line":1,"column":486}},{"source":"../node_modules/mongodb/lib/operations/update_many.js","name":"UpdateManyOperation","original":{"line":34,"column":17},"generated":{"line":1,"column":494}}],"sources":{"../node_modules/mongodb/lib/operations/update_many.js":"'use strict';\n\nconst OperationBase = require('./operation').OperationBase;\nconst updateCallback = require('./common_functions').updateCallback;\nconst updateDocuments = require('./common_functions').updateDocuments;\nconst hasAtomicOperators = require('../utils').hasAtomicOperators;\n\nclass UpdateManyOperation extends OperationBase {\n  constructor(collection, filter, update, options) {\n    super(options);\n\n    if (!hasAtomicOperators(update)) {\n      throw new TypeError('Update document requires atomic operators');\n    }\n\n    this.collection = collection;\n    this.filter = filter;\n    this.update = update;\n  }\n\n  execute(callback) {\n    const coll = this.collection;\n    const filter = this.filter;\n    const update = this.update;\n    const options = this.options;\n\n    // Set single document update\n    options.multi = true;\n    // Execute update\n    updateDocuments(coll, filter, update, options, (err, r) => updateCallback(err, r, callback));\n  }\n}\n\nmodule.exports = UpdateManyOperation;\n"},"lineCount":null}},"error":null,"hash":"2a148b27f6780b06966b154253e143ac","cacheData":{"env":{}}}