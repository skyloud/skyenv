{"id":"izy6","dependencies":[{"name":"/Users/etienne/skyenv/tsconfig.json","includedInParent":true,"mtime":1596478339504},{"name":"/Users/etienne/skyenv/package.json","includedInParent":true,"mtime":1596478551490},{"name":"mongodb","loc":{"line":4,"column":26},"parent":"/Users/etienne/skyenv/src/services/cache.ts","resolved":"/Users/etienne/skyenv/node_modules/mongodb/index.js"},{"name":"../lib/provider","loc":{"line":5,"column":27},"parent":"/Users/etienne/skyenv/src/services/cache.ts","resolved":"/Users/etienne/skyenv/src/lib/provider.ts"}],"generated":{"js":"\"use strict\";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(e){r(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t,r,n,o,c,u){try{var a=e[c](u),i=a.value}catch(s){return void r(s)}a.done?t(i):Promise.resolve(i).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(o,c){var u=e.apply(t,r);function a(e){n(u,o,c,a,i,\"next\",e)}function i(e){n(u,o,c,a,i,\"throw\",e)}a(void 0)})}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.connectCache=void 0;var c=require(\"mongodb\"),u=require(\"../lib/provider\");function a(e,t){return function(){var r=o(regeneratorRuntime.mark(function r(n,o){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.updateOne({_id:n},{$set:{_id:n,value:o}},{upsert:!0});case 2:e[n]=o;case 3:case\"end\":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()}function i(e,n){return t(t({},e),{},r({},n._id,n.value))}function s(e){return p.apply(this,arguments)}function p(){return(p=o(regeneratorRuntime.mark(function e(t){var r,n,o,s,p,f,l,v,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cacheDatabase||{},n=r.uri,o=r.name,s=void 0===o?\"skyenv\":o,e.prev=1,p=new c.MongoClient(n,{useUnifiedTopology:!0}),e.next=5,p.connect();case 5:return f=e.sent,l=f.db().collection(s),e.next=9,l.find().toArray();case 9:return v=e.sent,b=v.reduce(i,{}),e.abrupt(\"return\",{state:\"ready\",store:b,get:u.get(b),set:a(b,l)});case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt(\"return\",{state:\"error\",get:function(){throw\"Can't get value because cache is not ready\"},set:function(){throw\"Can't set value because cache is not ready\"}});case 17:case\"end\":return e.stop()}},e,null,[[1,14]])}))).apply(this,arguments)}exports.connectCache=s;"},"sourceMaps":{"js":{"mappings":[{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":0}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":13}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":22}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":24}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":26}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":29}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":33}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":35}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":42}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":47}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":50}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":53}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":60}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":82}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":83}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":87}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":89}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":96}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":118}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":121}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":125}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":127}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":129}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":136}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":145}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":148}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":155}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":162}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":187}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":189}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":192}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":206}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":208}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":213}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":219}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":221}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":224}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":231}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":233}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":242}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":244}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":247}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":251}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":255}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":257}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":259}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":261}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":271}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":278}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":282}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":283}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":287}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":289}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":295}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":305}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":308}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":318}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":321}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":324}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":326}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":328}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":330}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":337}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":341}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":344}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":352}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":361}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":364}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":366}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":368}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":370}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":372}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":378}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":385}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":411}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":418}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":435}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":437}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":444}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":470}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":474}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":476}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":483}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":487}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":495}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":504}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":507}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":514}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":529}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":531}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":533}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":540}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":565}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":567}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":573}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":580}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":582}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":591}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":593}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":595}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":597}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":600}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":607}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":612}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":614}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":621}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":636}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":638}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":640}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":641}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":647}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":649}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":661}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":663}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":677}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":679}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":689}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":693}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":695}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":698}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":700}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":702}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":711}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":713}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":715}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":717}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":719}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":721}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":723}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":725}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":728}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":732}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":736}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":738}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":740}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":743}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":746}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":748}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":750}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":756}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":762}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":765}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":777}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":779}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":782}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":784}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":789}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":791}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":794}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":802}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":810}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":813}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":818}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":820}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":823}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":832}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":834}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":837}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":844}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":855}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":859}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":861}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":866}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":868}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":878}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":885}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":889}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":897}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":906}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":908}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":911}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":915}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":917}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":919}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":925}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":927}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":930}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":939}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":941}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":944}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":946}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":948}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":950}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":952}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":954}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":956}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":963}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":966}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":975}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":977}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":980}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":982}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":984}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":986}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":988}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":990}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":992}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1000}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1003}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1010}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1016}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1023}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1038}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1046}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1059}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1060}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1067}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1071}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1079}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1097}},{"source":"services/cache.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":1099}},{"source":"services/cache.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":1103}},{"source":"services/cache.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":1105}},{"source":"services/cache.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":1113}},{"source":"services/cache.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1124}},{"source":"services/cache.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1126}},{"source":"services/cache.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":1134}},{"source":"services/cache.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":1153}},{"source":"services/cache.ts","name":null,"original":{"line":10,"column":9},"generated":{"line":1,"column":1162}},{"source":"services/cache.ts","name":null,"original":{"line":10,"column":16},"generated":{"line":1,"column":1164}},{"source":"services/cache.ts","name":null,"original":{"line":10,"column":26},"generated":{"line":1,"column":1166}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1169}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1176}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1187}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1191}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1193}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1195}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1214}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1219}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":16},"generated":{"line":1,"column":1228}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":16},"generated":{"line":1,"column":1230}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":30},"generated":{"line":1,"column":1232}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1235}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1242}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1261}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1266}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1275}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1278}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1285}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1292}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1294}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1299}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1301}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1307}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1312}},{"source":"services/cache.ts","name":null,"original":{"line":12,"column":10},"generated":{"line":1,"column":1314}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1321}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1323}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1328}},{"source":"services/cache.ts","name":null,"original":{"line":12,"column":10},"generated":{"line":1,"column":1330}},{"source":"services/cache.ts","name":null,"original":{"line":12,"column":21},"generated":{"line":1,"column":1332}},{"source":"services/cache.ts","name":null,"original":{"line":12,"column":31},"generated":{"line":1,"column":1342}},{"source":"services/cache.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":1343}},{"source":"services/cache.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":1,"column":1347}},{"source":"services/cache.ts","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":1350}},{"source":"services/cache.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":1351}},{"source":"services/cache.ts","name":null,"original":{"line":15,"column":12},"generated":{"line":1,"column":1356}},{"source":"services/cache.ts","name":null,"original":{"line":15,"column":14},"generated":{"line":1,"column":1357}},{"source":"services/cache.ts","name":null,"original":{"line":15,"column":19},"generated":{"line":1,"column":1361}},{"source":"services/cache.ts","name":null,"original":{"line":15,"column":24},"generated":{"line":1,"column":1363}},{"source":"services/cache.ts","name":null,"original":{"line":15,"column":24},"generated":{"line":1,"column":1369}},{"source":"services/cache.ts","name":null,"original":{"line":16,"column":7},"generated":{"line":1,"column":1373}},{"source":"services/cache.ts","name":null,"original":{"line":17,"column":6},"generated":{"line":1,"column":1374}},{"source":"services/cache.ts","name":null,"original":{"line":17,"column":14},"generated":{"line":1,"column":1382}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1386}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1391}},{"source":"services/cache.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":1393}},{"source":"services/cache.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":1395}},{"source":"services/cache.ts","name":null,"original":{"line":19,"column":17},"generated":{"line":1,"column":1398}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1400}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1405}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1407}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1411}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1417}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1424}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1426}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":1435}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1441}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1448}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1457}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1459}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1462}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1469}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1471}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1477}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1482}},{"source":"services/cache.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":1494}},{"source":"services/cache.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":1497}},{"source":"services/cache.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":1,"column":1506}},{"source":"services/cache.ts","name":null,"original":{"line":23,"column":30},"generated":{"line":1,"column":1508}},{"source":"services/cache.ts","name":null,"original":{"line":23,"column":40},"generated":{"line":1,"column":1510}},{"source":"services/cache.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":1513}},{"source":"services/cache.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":1520}},{"source":"services/cache.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":1522}},{"source":"services/cache.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":1524}},{"source":"services/cache.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":1527}},{"source":"services/cache.ts","name":null,"original":{"line":26,"column":5},"generated":{"line":1,"column":1530}},{"source":"services/cache.ts","name":null,"original":{"line":26,"column":5},"generated":{"line":1,"column":1533}},{"source":"services/cache.ts","name":null,"original":{"line":26,"column":5},"generated":{"line":1,"column":1535}},{"source":"services/cache.ts","name":null,"original":{"line":26,"column":5},"generated":{"line":1,"column":1538}},{"source":"services/cache.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":1540}},{"source":"services/cache.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":1,"column":1544}},{"source":"services/cache.ts","name":null,"original":{"line":26,"column":33},"generated":{"line":1,"column":1546}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":1554}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":1563}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":1565}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1568}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1575}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1577}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1583}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1588}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1599}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1608}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":1612}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1619}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1621}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1623}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1642}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1647}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":1656}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":1658}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1661}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1665}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1667}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1669}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1671}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1673}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1675}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1677}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1679}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1681}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1683}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1690}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1709}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1714}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1723}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1726}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1733}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1740}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1742}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1747}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1749}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1755}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1760}},{"source":"services/cache.ts","name":null,"original":{"line":35,"column":24},"generated":{"line":1,"column":1762}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":1,"column":1769}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":1,"column":1771}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":42},"generated":{"line":1,"column":1773}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":59},"generated":{"line":1,"column":1788}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":1791}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":1793}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":1795}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":1799}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":1801}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":1803}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":1808}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":1,"column":1815}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":1,"column":1819}},{"source":"services/cache.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":1,"column":1821}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1830}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1832}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1834}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1839}},{"source":"services/cache.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":1841}},{"source":"services/cache.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":1843}},{"source":"services/cache.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":1847}},{"source":"services/cache.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":1849}},{"source":"services/cache.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":1861}},{"source":"services/cache.ts","name":null,"original":{"line":34,"column":40},"generated":{"line":1,"column":1863}},{"source":"services/cache.ts","name":null,"original":{"line":34,"column":42},"generated":{"line":1,"column":1864}},{"source":"services/cache.ts","name":null,"original":{"line":34,"column":62},"generated":{"line":1,"column":1884}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1888}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1890}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1895}},{"source":"services/cache.ts","name":null,"original":{"line":35,"column":24},"generated":{"line":1,"column":1897}},{"source":"services/cache.ts","name":null,"original":{"line":35,"column":31},"generated":{"line":1,"column":1899}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1909}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1914}},{"source":"services/cache.ts","name":null,"original":{"line":37,"column":27},"generated":{"line":1,"column":1916}},{"source":"services/cache.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":1923}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1925}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1927}},{"source":"services/cache.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":1932}},{"source":"services/cache.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":1934}},{"source":"services/cache.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":1,"column":1936}},{"source":"services/cache.ts","name":null,"original":{"line":36,"column":34},"generated":{"line":1,"column":1941}},{"source":"services/cache.ts","name":null,"original":{"line":36,"column":45},"generated":{"line":1,"column":1952}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1955}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1957}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1962}},{"source":"services/cache.ts","name":null,"original":{"line":37,"column":27},"generated":{"line":1,"column":1964}},{"source":"services/cache.ts","name":null,"original":{"line":37,"column":38},"generated":{"line":1,"column":1966}},{"source":"services/cache.ts","name":null,"original":{"line":37,"column":45},"generated":{"line":1,"column":1973}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1983}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1988}},{"source":"services/cache.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":1990}},{"source":"services/cache.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":1997}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":1999}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2001}},{"source":"services/cache.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":2006}},{"source":"services/cache.ts","name":null,"original":{"line":38,"column":18},"generated":{"line":1,"column":2008}},{"source":"services/cache.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":1,"column":2010}},{"source":"services/cache.ts","name":null,"original":{"line":38,"column":34},"generated":{"line":1,"column":2017}},{"source":"services/cache.ts","name":null,"original":{"line":38,"column":53},"generated":{"line":1,"column":2019}},{"source":"services/cache.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":2023}},{"source":"services/cache.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":2025}},{"source":"services/cache.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":2032}},{"source":"services/cache.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":2041}},{"source":"services/cache.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":2042}},{"source":"services/cache.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":2048}},{"source":"services/cache.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":1,"column":2056}},{"source":"services/cache.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":1,"column":2062}},{"source":"services/cache.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":2064}},{"source":"services/cache.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":2068}},{"source":"services/cache.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":2070}},{"source":"services/cache.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":2074}},{"source":"services/cache.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":1,"column":2077}},{"source":"services/cache.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":2081}},{"source":"services/cache.ts","name":null,"original":{"line":44,"column":18},"generated":{"line":1,"column":2083}},{"source":"services/cache.ts","name":null,"original":{"line":44,"column":25},"generated":{"line":1,"column":2085}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2090}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2095}},{"source":"services/cache.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":2098}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2105}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2107}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2112}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2115}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2117}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2120}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2122}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2128}},{"source":"services/cache.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":2131}},{"source":"services/cache.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":2133}},{"source":"services/cache.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":2140}},{"source":"services/cache.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":2149}},{"source":"services/cache.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":2150}},{"source":"services/cache.ts","name":null,"original":{"line":48,"column":13},"generated":{"line":1,"column":2156}},{"source":"services/cache.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":1,"column":2164}},{"source":"services/cache.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":2168}},{"source":"services/cache.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":1,"column":2179}},{"source":"services/cache.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":1,"column":2184}},{"source":"services/cache.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":1,"column":2230}},{"source":"services/cache.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":2234}},{"source":"services/cache.ts","name":null,"original":{"line":53,"column":14},"generated":{"line":1,"column":2245}},{"source":"services/cache.ts","name":null,"original":{"line":53,"column":14},"generated":{"line":1,"column":2250}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2298}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2303}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2306}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2310}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2316}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2323}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2325}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2334}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2336}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2341}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2342}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2343}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":2345}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":2355}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":2361}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":2366}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":2377}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":2385}},{"source":"services/cache.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":2398}}],"sources":{"services/cache.ts":"import { SetupSkyenvProps, SkyenvCacheProvider } from '../lib/interfaces';\nimport { MongoClient, Collection } from 'mongodb';\nimport { get } from '../lib/provider';\n\ninterface CacheMongoDatabaseResult {\n  _id: string\n  value: string\n}\n\nfunction set<T>(store: T, collection: Collection) {\n  return async (key: keyof T, value: T[keyof T]): Promise<void> => {\n    await collection.updateOne({\n      _id: key\n    }, {\n      $set: { _id: key, value },\n    }, {\n      upsert: true\n    });\n    store[key] = value;\n  }\n}\n\nfunction buildStoreReducer<T>(store: T, nextResult: CacheMongoDatabaseResult) {\n  return {\n    ...store,\n    [nextResult._id]: nextResult.value,\n  }\n}\n\nexport async function connectCache<T>(config: SetupSkyenvProps): Promise<SkyenvCacheProvider<T>> {\n  const { uri, name = 'skyenv' } = config.cacheDatabase || {};\n\n  try {\n    const client = new MongoClient(uri, { useUnifiedTopology: true });\n    const mongo = await client.connect();\n    const collection = mongo.db().collection(name);\n    const dbResult = await collection.find().toArray() as CacheMongoDatabaseResult[];\n    const store = dbResult.reduce(buildStoreReducer, {} as T);\n\n    return {\n      state: 'ready',\n      store,\n      get: get<T>(store),\n      set: set<T>(store, collection),\n    };\n  } catch (err) {\n    return {\n      state: 'error',\n      get: () => {\n        throw 'Can\\'t get value because cache is not ready'\n      },\n      set: () => {\n        throw 'Can\\'t set value because cache is not ready'\n      },\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"309ad80414c47645f2fc0de0e999ba7d","cacheData":{"env":{}}}